"use strict";
var _a;
Object.defineProperty(exports, "__esModule", { value: true });
exports.BaseProject = void 0;
const JSII_RTTI_SYMBOL_1 = Symbol.for("jsii.rtti");
const typescript_1 = require("projen/lib/typescript");
const options_1 = require("./config/options");
const git_1 = require("./config/git");
const utils_1 = require("../utils");
/**
 * Base class for managing project configuration.
 */
class BaseProject extends typescript_1.TypeScriptProject {
    /**
     * Initializes the project.
     * @param options Additional project options.
     */
    constructor(options) {
        super({
            ...options_1.BaseOptions.sharedOptions(options),
        });
        new git_1.GitConfigBase(this);
        this.initializeBaseConfigs(options);
        this.kind = 'base';
    }
    /**
     * Initializes the base configurations for the project.
     *
     * This method is responsible for initializing the core configurations related to TypeScript,
     * ESLint, and Jest, based on the provided options. The configuration objects are created and
     * initialized according to the flags passed in the `options` parameter. This allows the project
     * to be configured with specific tools only when needed, without unnecessary overhead.
     *
     * The method is overridden from the base class to provide a customized initialization process
     * for a project that is specifically tailored for GitHub Actions-based configurations.
     *
     * @param options - The configuration options used to initialize the various project settings.
     * The `options` object is expected to be of type `GitHubActionProjectOptions` and contains flags
     * that enable or disable specific configurations like `eslintEnabled`, `jestEnabled`, etc. The method
     * reads these flags and initializes the respective configuration objects (e.g., `typescriptConfig`,
     * `eslintConfig`, `jestConfig`) based on their values.
     *
     * @example
     * const options: GitHubActionProjectOptions = {
     *   eslintEnabled: true,
     *   jestEnabled: false,
     *   // other options...
     * };
     * this.initializeBaseConfigs(options);
     *
     * @remarks
     * - This method is overwritten by the child class to initialize the base configurations before
     *   proceeding with the setup of more specific configurations like GitHub, Husky, etc.
     * - The initialization of configurations is conditional based on the `options` flags, ensuring that only
     *   necessary configurations are applied to the project.
     */
    initializeBaseConfigs(options) {
        this.typescript = options.typescriptEnabled ?? false;
    }
    preSynthesize() {
        (0, utils_1.registerConfig)(this.components);
        super.preSynthesize();
    }
    postSynthesize() {
        super.postSynthesize();
    }
}
exports.BaseProject = BaseProject;
_a = JSII_RTTI_SYMBOL_1;
BaseProject[_a] = { fqn: "@dxfrontier/projen-template-projects.BaseProject", version: "0.0.0" };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvamVjdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9iYXNlL3Byb2plY3QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxzREFBb0Y7QUFDcEYsOENBQStDO0FBSS9DLHNDQUE2QztBQVE3QyxvQ0FBMEM7QUE4RTFDOztHQUVHO0FBQ0gsTUFBYSxXQUFZLFNBQVEsOEJBQWlCO0lBb0ZoRDs7O09BR0c7SUFDSCxZQUFZLE9BQTJCO1FBQ3JDLEtBQUssQ0FBQztZQUNKLEdBQUcscUJBQVcsQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDO1NBQ3RDLENBQUMsQ0FBQztRQUVILElBQUksbUJBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN4QixJQUFJLENBQUMscUJBQXFCLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDcEMsSUFBSSxDQUFDLElBQUksR0FBRyxNQUFNLENBQUM7SUFDckIsQ0FBQztJQUVEOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7T0E4Qkc7SUFDTyxxQkFBcUIsQ0FBQyxPQUEyQjtRQUN6RCxJQUFJLENBQUMsVUFBVSxHQUFHLE9BQU8sQ0FBQyxpQkFBaUIsSUFBSSxLQUFLLENBQUM7SUFDdkQsQ0FBQztJQUVlLGFBQWE7UUFDM0IsSUFBQSxzQkFBYyxFQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUNoQyxLQUFLLENBQUMsYUFBYSxFQUFFLENBQUM7SUFDeEIsQ0FBQztJQUVlLGNBQWM7UUFDNUIsS0FBSyxDQUFDLGNBQWMsRUFBRSxDQUFDO0lBQ3pCLENBQUM7O0FBNUlILGtDQTZJQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFR5cGVTY3JpcHRQcm9qZWN0LCBUeXBlU2NyaXB0UHJvamVjdE9wdGlvbnMgfSBmcm9tICdwcm9qZW4vbGliL3R5cGVzY3JpcHQnO1xuaW1wb3J0IHsgQmFzZU9wdGlvbnMgfSBmcm9tICcuL2NvbmZpZy9vcHRpb25zJztcbmltcG9ydCB7IE5wbUNvbmZpZ0Jhc2UgfSBmcm9tICcuL2NvbmZpZy9ucG0nO1xuaW1wb3J0IHsgRGV2Q29udGFpbmVyQ29uZmlnQmFzZSB9IGZyb20gJy4vY29uZmlnL2RldmNvbnRhaW5lcic7XG5pbXBvcnQgeyBFc0xpbnRDb25maWdCYXNlIH0gZnJvbSAnLi9jb25maWcvZXNsaW50JztcbmltcG9ydCB7IEdpdENvbmZpZ0Jhc2UgfSBmcm9tICcuL2NvbmZpZy9naXQnO1xuaW1wb3J0IHsgR2l0SHViQ29uZmlnQmFzZSB9IGZyb20gJy4vY29uZmlnL2dpdGh1Yic7XG5pbXBvcnQgeyBIdXNreUNvbmZpZ0Jhc2UgfSBmcm9tICcuL2NvbmZpZy9odXNreSc7XG5pbXBvcnQgeyBKZXN0Q29uZmlnQmFzZSB9IGZyb20gJy4vY29uZmlnL2plc3QnO1xuaW1wb3J0IHsgUHJldHRpZXJDb25maWdCYXNlIH0gZnJvbSAnLi9jb25maWcvcHJldHRpZXInO1xuaW1wb3J0IHsgU2FtcGxlQ29kZUNvbmZpZ0Jhc2UgfSBmcm9tICcuL2NvbmZpZy9zYW1wbGVjb2RlJztcbmltcG9ydCB7IFR5cGVTY3JpcHRDb25maWdCYXNlIH0gZnJvbSAnLi90eXBlc2NyaXB0JztcbmltcG9ydCB7IFZzQ29kZUNvbmZpZ0Jhc2UgfSBmcm9tICcuL2NvbmZpZy92c2NvZGUnO1xuaW1wb3J0IHsgcmVnaXN0ZXJDb25maWcgfSBmcm9tICcuLi91dGlscyc7XG5pbXBvcnQgeyBDb21taXRMaW50Q29uZmlnQmFzZSB9IGZyb20gJy4vY29uZmlnL2NvbW1pdGxpbnQnO1xuaW1wb3J0IHsgSVByb2plY3RLaW5kLCBQcm9qZWN0S2luZCB9IGZyb20gJy4uL3R5cGVzL3Byb2plY3QnO1xuXG5leHBvcnQgaW50ZXJmYWNlIEJhc2VQcm9qZWN0T3B0aW9ucyBleHRlbmRzIFR5cGVTY3JpcHRQcm9qZWN0T3B0aW9ucyB7XG4gIC8qKlxuICAgKiBXaGV0aGVyIHRvIGVuYWJsZSB0aGUgY29tbWl0bGludCBjb25maWd1cmF0aW9uIGZvciB0aGUgcHJvamVjdC5cbiAgICogSWYgc2V0IHRvIGB0cnVlYCwgY29tbWl0bGludCBjb25maWd1cmF0aW9uIHdpbGwgYmUgZW5hYmxlZC5cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIHJlYWRvbmx5IGNvbW1pdGxpbnRFbmFibGVkPzogYm9vbGVhbjtcblxuICAvKipcbiAgICogV2hldGhlciB0byBlbmFibGUgdGhlIGRldiBjb250YWluZXIgY29uZmlndXJhdGlvbiBmb3IgdGhlIHByb2plY3QuXG4gICAqIElmIHNldCB0byBgdHJ1ZWAsIGRldiBjb250YWluZXIgY29uZmlndXJhdGlvbiB3aWxsIGJlIGVuYWJsZWQuXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICByZWFkb25seSBkZXZDb250YWluZXJFbmFibGVkPzogYm9vbGVhbjtcblxuICAvKipcbiAgICogV2hldGhlciB0byBlbmFibGUgdGhlIEVTTGludCBjb25maWd1cmF0aW9uIGZvciB0aGUgcHJvamVjdC5cbiAgICogSWYgc2V0IHRvIGB0cnVlYCwgRVNMaW50IGNvbmZpZ3VyYXRpb24gd2lsbCBiZSBlbmFibGVkLlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgcmVhZG9ubHkgZXNsaW50RW5hYmxlZD86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdG8gZW5hYmxlIHRoZSBHaXRIdWIgY29uZmlndXJhdGlvbiBmb3IgdGhlIHByb2plY3QuXG4gICAqIElmIHNldCB0byBgdHJ1ZWAsIEdpdEh1Yi1yZWxhdGVkIHNldHRpbmdzIHdpbGwgYmUgY29uZmlndXJlZCAoZS5nLiwgaXNzdWUgdGVtcGxhdGVzLCBQUiB0ZW1wbGF0ZXMpLlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgcmVhZG9ubHkgZ2l0aHViRW5hYmxlZD86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdG8gZW5hYmxlIHRoZSBIdXNreSBjb25maWd1cmF0aW9uIGZvciB0aGUgcHJvamVjdC5cbiAgICogSWYgc2V0IHRvIGB0cnVlYCwgSHVza3kgaG9va3Mgd2lsbCBiZSBlbmFibGVkIHRvIGVuZm9yY2UgY29kZSBxdWFsaXR5IGNoZWNrcy5cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIHJlYWRvbmx5IGh1c2t5RW5hYmxlZD86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdG8gZW5hYmxlIHRoZSBKZXN0IGNvbmZpZ3VyYXRpb24gZm9yIHRoZSBwcm9qZWN0LlxuICAgKiBJZiBzZXQgdG8gYHRydWVgLCBKZXN0IHRlc3RpbmcgZnJhbWV3b3JrIHdpbGwgYmUgY29uZmlndXJlZCBmb3IgdGhlIHByb2plY3QuXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICByZWFkb25seSBqZXN0RW5hYmxlZD86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdG8gZW5hYmxlIHRoZSBQcmV0dGllciBjb25maWd1cmF0aW9uIGZvciB0aGUgcHJvamVjdC5cbiAgICogSWYgc2V0IHRvIGB0cnVlYCwgUHJldHRpZXIgY29kZSBmb3JtYXR0aW5nIGNvbmZpZ3VyYXRpb24gd2lsbCBiZSBlbmFibGVkLlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgcmVhZG9ubHkgcHJldHRpZXJFbmFibGVkPzogYm9vbGVhbjtcblxuICAvKipcbiAgICogV2hldGhlciB0byBlbmFibGUgdGhlIFR5cGVTY3JpcHQgY29uZmlndXJhdGlvbiBmb3IgdGhlIHByb2plY3QuXG4gICAqIElmIHNldCB0byBgdHJ1ZWAsIFR5cGVTY3JpcHQtc3BlY2lmaWMgc2V0dGluZ3Mgd2lsbCBiZSBjb25maWd1cmVkIGZvciB0aGUgcHJvamVjdC5cbiAgICogSWYgc2V0IHRvIGBmYWxzZWAgVHlwZVNjcmlwdCB3aWxsIGJlIGNvbXBsZXRlbHkgcmVtb3ZlZCBmcm9tIHRoZSBwcm9qZWN0IGFzXG4gICAqIFByb2plbiBwcm9qZWN0cyB1c2VkIGluIHRoaXMgY29udGV4dCBhcmUgYWx3YXlzIHJlbHlpbmcgb24gVHlwZVNjcmlwdC5cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIHJlYWRvbmx5IHR5cGVzY3JpcHRFbmFibGVkPzogYm9vbGVhbjtcblxuICAvKipcbiAgICogV2hldGhlciB0byBlbmFibGUgdGhlIFZTIENvZGUgY29uZmlndXJhdGlvbiBmb3IgdGhlIHByb2plY3QuXG4gICAqIElmIHNldCB0byBgdHJ1ZWAsIFZTIENvZGUgc2V0dGluZ3Mgd2lsbCBiZSBhcHBsaWVkIGZvciB0aGUgcHJvamVjdC5cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIHJlYWRvbmx5IHZzY29kZUVuYWJsZWQ/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRvIGluY2x1ZGUgc2FtcGxlIGNvZGUgaW4gdGhlIHByb2plY3QuXG4gICAqIElmIHNldCB0byBgdHJ1ZWAsIHNhbXBsZSBjb2RlIHdpbGwgYmUgYWRkZWQgdG8gdGhlIHByb2plY3QgcmVwb3NpdG9yeS5cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIHJlYWRvbmx5IHNhbXBsZUNvZGVFbmFibGVkPzogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBCYXNlIGNsYXNzIGZvciBtYW5hZ2luZyBwcm9qZWN0IGNvbmZpZ3VyYXRpb24uXG4gKi9cbmV4cG9ydCBjbGFzcyBCYXNlUHJvamVjdCBleHRlbmRzIFR5cGVTY3JpcHRQcm9qZWN0IGltcGxlbWVudHMgSVByb2plY3RLaW5kIHtcbiAgLyoqXG4gICAqIENvbmZpZ3VyYXRpb24gZm9yIGNvbW1pdGxpbnQgc2V0dGluZ3MgaW4gdGhlIHByb2plY3QuXG4gICAqIFRoaXMgcHJvcGVydHkgaXMgaW5pdGlhbGl6ZWQgaWYgYGNvbW1pdGxpbnRFbmFibGVkYCBvcHRpb24gaXMgcHJvdmlkZWQgZHVyaW5nIHByb2plY3QgY3JlYXRpb24uXG4gICAqL1xuICBwdWJsaWMgY29tbWl0bGludENvbmZpZz86IENvbW1pdExpbnRDb25maWdCYXNlO1xuXG4gIC8qKlxuICAgKiBDb25maWd1cmF0aW9uIGZvciBkZXZlbG9wbWVudCBjb250YWluZXIgc2V0dGluZ3MgaW4gdGhlIHByb2plY3QuXG4gICAqIFRoaXMgcHJvcGVydHkgaXMgaW5pdGlhbGl6ZWQgaWYgYGRldkNvbnRhaW5lckVuYWJsZWRgIG9wdGlvbiBpcyBwcm92aWRlZCBkdXJpbmcgcHJvamVjdCBjcmVhdGlvbi5cbiAgICovXG4gIHB1YmxpYyBkZXZDb250YWluZXJDb25maWc/OiBEZXZDb250YWluZXJDb25maWdCYXNlO1xuXG4gIC8qKlxuICAgKiBDb25maWd1cmF0aW9uIGZvciBFU0xpbnQgc2V0dGluZ3MgaW4gdGhlIHByb2plY3QuXG4gICAqIFRoaXMgcHJvcGVydHkgaXMgaW5pdGlhbGl6ZWQgaWYgYGVzbGludEVuYWJsZWRgIG9wdGlvbiBpcyBwcm92aWRlZCBkdXJpbmcgcHJvamVjdCBjcmVhdGlvbi5cbiAgICovXG4gIHB1YmxpYyBlc2xpbnRDb25maWc/OiBFc0xpbnRDb25maWdCYXNlO1xuXG4gIC8qKlxuICAgKiBDb25maWd1cmF0aW9uIGZvciBHaXQgc2V0dGluZ3MgaW4gdGhlIHByb2plY3QuXG4gICAqIFRoaXMgcHJvcGVydHkgaXMgYWx3YXlzIGluaXRpYWxpemVkIGFzIGBnaXRDb25maWdgIHdoZW4gdGhlIHByb2plY3QgaXMgY3JlYXRlZC5cbiAgICovXG4gIHB1YmxpYyBnaXRDb25maWc/OiBHaXRDb25maWdCYXNlO1xuXG4gIC8qKlxuICAgKiBDb25maWd1cmF0aW9uIGZvciBHaXRIdWIgc2V0dGluZ3MgaW4gdGhlIHByb2plY3QuXG4gICAqIFRoaXMgcHJvcGVydHkgaXMgaW5pdGlhbGl6ZWQgaWYgYGdpdGh1YkVuYWJsZWRgIG9wdGlvbiBpcyBwcm92aWRlZCBkdXJpbmcgcHJvamVjdCBjcmVhdGlvbi5cbiAgICovXG4gIHB1YmxpYyBnaXRodWJDb25maWc/OiBHaXRIdWJDb25maWdCYXNlO1xuXG4gIC8qKlxuICAgKiBDb25maWd1cmF0aW9uIGZvciBIdXNreSBzZXR0aW5ncyBpbiB0aGUgcHJvamVjdC5cbiAgICogVGhpcyBwcm9wZXJ0eSBpcyBpbml0aWFsaXplZCBpZiBgaHVza3lFbmFibGVkYCBvcHRpb24gaXMgcHJvdmlkZWQgZHVyaW5nIHByb2plY3QgY3JlYXRpb24uXG4gICAqL1xuICBwdWJsaWMgaHVza3lDb25maWc/OiBIdXNreUNvbmZpZ0Jhc2U7XG5cbiAgLyoqXG4gICAqIENvbmZpZ3VyYXRpb24gZm9yIEplc3Qgc2V0dGluZ3MgaW4gdGhlIHByb2plY3QuXG4gICAqIFRoaXMgcHJvcGVydHkgaXMgaW5pdGlhbGl6ZWQgaWYgYGplc3RFbmFibGVkYCBvcHRpb24gaXMgcHJvdmlkZWQgZHVyaW5nIHByb2plY3QgY3JlYXRpb24uXG4gICAqL1xuICBwdWJsaWMgamVzdENvbmZpZz86IEplc3RDb25maWdCYXNlO1xuXG4gIC8qKlxuICAgKiBDb25maWd1cmF0aW9uIGZvciBOUE0gc2V0dGluZ3MgaW4gdGhlIHByb2plY3QuXG4gICAqIFRoaXMgcHJvcGVydHkgaXMgYWx3YXlzIGluaXRpYWxpemVkIGFzIGBucG1Db25maWdgIHdoZW4gdGhlIHByb2plY3QgaXMgY3JlYXRlZC5cbiAgICovXG4gIHB1YmxpYyBucG1Db25maWc/OiBOcG1Db25maWdCYXNlO1xuXG4gIC8qKlxuICAgKiBDb25maWd1cmF0aW9uIGZvciBQcmV0dGllciBzZXR0aW5ncyBpbiB0aGUgcHJvamVjdC5cbiAgICogVGhpcyBwcm9wZXJ0eSBpcyBpbml0aWFsaXplZCBpZiBgcHJldHRpZXJFbmFibGVkYCBvcHRpb24gaXMgcHJvdmlkZWQgZHVyaW5nIHByb2plY3QgY3JlYXRpb24uXG4gICAqL1xuICBwdWJsaWMgcHJldHRpZXJDb25maWc/OiBQcmV0dGllckNvbmZpZ0Jhc2U7XG5cbiAgLyoqXG4gICAqIENvbmZpZ3VyYXRpb24gZm9yIFR5cGVTY3JpcHQgc2V0dGluZ3MgaW4gdGhlIHByb2plY3QuXG4gICAqIFRoaXMgcHJvcGVydHkgaXMgYWx3YXlzIGluaXRpYWxpemVkIGFzIGB0eXBlc2NyaXB0Q29uZmlnYCB3aGVuIHRoZSBwcm9qZWN0IGlzIGNyZWF0ZWQuXG4gICAqL1xuICBwdWJsaWMgdHlwZXNjcmlwdENvbmZpZz86IFR5cGVTY3JpcHRDb25maWdCYXNlO1xuXG4gIC8qKlxuICAgKiBDb25maWd1cmF0aW9uIGZvciBWUyBDb2RlIHNldHRpbmdzIGluIHRoZSBwcm9qZWN0LlxuICAgKiBUaGlzIHByb3BlcnR5IGlzIGluaXRpYWxpemVkIGlmIGB2c2NvZGVFbmFibGVkYCBvcHRpb24gaXMgcHJvdmlkZWQgZHVyaW5nIHByb2plY3QgY3JlYXRpb24uXG4gICAqL1xuICBwdWJsaWMgdnNjb2RlQ29uZmlnPzogVnNDb2RlQ29uZmlnQmFzZTtcblxuICAvKipcbiAgICogQ29uZmlndXJhdGlvbiBmb3IgU2FtcGxlIENvZGUgaW4gdGhlIHByb2plY3QuXG4gICAqIFRoaXMgcHJvcGVydHkgaXMgaW5pdGlhbGl6ZWQgaWYgYHNhbXBsZUNvZGVFbmFibGVkYCBvcHRpb24gaXMgcHJvdmlkZWQgZHVyaW5nIHByb2plY3QgY3JlYXRpb24uXG4gICAqL1xuICBwdWJsaWMgc2FtcGxlQ29kZUNvbmZpZz86IFNhbXBsZUNvZGVDb25maWdCYXNlO1xuXG4gIC8qKlxuICAgKiBUaGlzIGZsYWcgYWxpZ25zIHdpdGggUHJvamVuIHN0cnVjdHVyZSB1c2luZyBmbGFncyBsaWtlIGBlc2xpbnRgLCBgZGV2Q29udGFpbmVyYCwgLi4uLlxuICAgKiBmb3IgZGVmaW5pbmcgaWYgY29uZmlndXJhdGlvbiBmdW5jdGlvbmFsaXR5IGlzIGVuYWJsZWQgb3Igbm90LiBXaWxsIGFsaWduIHdpdGggYHR5cGVzY3JpcHRFbmFibGVkYFxuICAgKiBJZiBzZXQgdG8gYHRydWVgLCBUeXBlU2NyaXB0LXNwZWNpZmljIHNldHRpbmdzIHdpbGwgYmUgY29uZmlndXJlZCBmb3IgdGhlIHByb2plY3QuXG4gICAqIElmIHNldCB0byBgZmFsc2VgIFR5cGVTY3JpcHQgd2lsbCBiZSBjb21wbGV0ZWx5IHJlbW92ZWQgZnJvbSB0aGUgcHJvamVjdCBhc1xuICAgKiBQcm9qZW4gcHJvamVjdHMgdXNlZCBpbiB0aGlzIGNvbnRleHQgYXJlIGFsd2F5cyByZWx5aW5nIG9uIFR5cGVTY3JpcHQuXG4gICAqL1xuICBwdWJsaWMgdHlwZXNjcmlwdD86IGJvb2xlYW47XG5cbiAgcHVibGljIGtpbmQ6IFByb2plY3RLaW5kO1xuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyB0aGUgcHJvamVjdC5cbiAgICogQHBhcmFtIG9wdGlvbnMgQWRkaXRpb25hbCBwcm9qZWN0IG9wdGlvbnMuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvcHRpb25zOiBCYXNlUHJvamVjdE9wdGlvbnMpIHtcbiAgICBzdXBlcih7XG4gICAgICAuLi5CYXNlT3B0aW9ucy5zaGFyZWRPcHRpb25zKG9wdGlvbnMpLFxuICAgIH0pO1xuXG4gICAgbmV3IEdpdENvbmZpZ0Jhc2UodGhpcyk7XG4gICAgdGhpcy5pbml0aWFsaXplQmFzZUNvbmZpZ3Mob3B0aW9ucyk7XG4gICAgdGhpcy5raW5kID0gJ2Jhc2UnO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIHRoZSBiYXNlIGNvbmZpZ3VyYXRpb25zIGZvciB0aGUgcHJvamVjdC5cbiAgICpcbiAgICogVGhpcyBtZXRob2QgaXMgcmVzcG9uc2libGUgZm9yIGluaXRpYWxpemluZyB0aGUgY29yZSBjb25maWd1cmF0aW9ucyByZWxhdGVkIHRvIFR5cGVTY3JpcHQsXG4gICAqIEVTTGludCwgYW5kIEplc3QsIGJhc2VkIG9uIHRoZSBwcm92aWRlZCBvcHRpb25zLiBUaGUgY29uZmlndXJhdGlvbiBvYmplY3RzIGFyZSBjcmVhdGVkIGFuZFxuICAgKiBpbml0aWFsaXplZCBhY2NvcmRpbmcgdG8gdGhlIGZsYWdzIHBhc3NlZCBpbiB0aGUgYG9wdGlvbnNgIHBhcmFtZXRlci4gVGhpcyBhbGxvd3MgdGhlIHByb2plY3RcbiAgICogdG8gYmUgY29uZmlndXJlZCB3aXRoIHNwZWNpZmljIHRvb2xzIG9ubHkgd2hlbiBuZWVkZWQsIHdpdGhvdXQgdW5uZWNlc3Nhcnkgb3ZlcmhlYWQuXG4gICAqXG4gICAqIFRoZSBtZXRob2QgaXMgb3ZlcnJpZGRlbiBmcm9tIHRoZSBiYXNlIGNsYXNzIHRvIHByb3ZpZGUgYSBjdXN0b21pemVkIGluaXRpYWxpemF0aW9uIHByb2Nlc3NcbiAgICogZm9yIGEgcHJvamVjdCB0aGF0IGlzIHNwZWNpZmljYWxseSB0YWlsb3JlZCBmb3IgR2l0SHViIEFjdGlvbnMtYmFzZWQgY29uZmlndXJhdGlvbnMuXG4gICAqXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gVGhlIGNvbmZpZ3VyYXRpb24gb3B0aW9ucyB1c2VkIHRvIGluaXRpYWxpemUgdGhlIHZhcmlvdXMgcHJvamVjdCBzZXR0aW5ncy5cbiAgICogVGhlIGBvcHRpb25zYCBvYmplY3QgaXMgZXhwZWN0ZWQgdG8gYmUgb2YgdHlwZSBgR2l0SHViQWN0aW9uUHJvamVjdE9wdGlvbnNgIGFuZCBjb250YWlucyBmbGFnc1xuICAgKiB0aGF0IGVuYWJsZSBvciBkaXNhYmxlIHNwZWNpZmljIGNvbmZpZ3VyYXRpb25zIGxpa2UgYGVzbGludEVuYWJsZWRgLCBgamVzdEVuYWJsZWRgLCBldGMuIFRoZSBtZXRob2RcbiAgICogcmVhZHMgdGhlc2UgZmxhZ3MgYW5kIGluaXRpYWxpemVzIHRoZSByZXNwZWN0aXZlIGNvbmZpZ3VyYXRpb24gb2JqZWN0cyAoZS5nLiwgYHR5cGVzY3JpcHRDb25maWdgLFxuICAgKiBgZXNsaW50Q29uZmlnYCwgYGplc3RDb25maWdgKSBiYXNlZCBvbiB0aGVpciB2YWx1ZXMuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGNvbnN0IG9wdGlvbnM6IEdpdEh1YkFjdGlvblByb2plY3RPcHRpb25zID0ge1xuICAgKiAgIGVzbGludEVuYWJsZWQ6IHRydWUsXG4gICAqICAgamVzdEVuYWJsZWQ6IGZhbHNlLFxuICAgKiAgIC8vIG90aGVyIG9wdGlvbnMuLi5cbiAgICogfTtcbiAgICogdGhpcy5pbml0aWFsaXplQmFzZUNvbmZpZ3Mob3B0aW9ucyk7XG4gICAqXG4gICAqIEByZW1hcmtzXG4gICAqIC0gVGhpcyBtZXRob2QgaXMgb3ZlcndyaXR0ZW4gYnkgdGhlIGNoaWxkIGNsYXNzIHRvIGluaXRpYWxpemUgdGhlIGJhc2UgY29uZmlndXJhdGlvbnMgYmVmb3JlXG4gICAqICAgcHJvY2VlZGluZyB3aXRoIHRoZSBzZXR1cCBvZiBtb3JlIHNwZWNpZmljIGNvbmZpZ3VyYXRpb25zIGxpa2UgR2l0SHViLCBIdXNreSwgZXRjLlxuICAgKiAtIFRoZSBpbml0aWFsaXphdGlvbiBvZiBjb25maWd1cmF0aW9ucyBpcyBjb25kaXRpb25hbCBiYXNlZCBvbiB0aGUgYG9wdGlvbnNgIGZsYWdzLCBlbnN1cmluZyB0aGF0IG9ubHlcbiAgICogICBuZWNlc3NhcnkgY29uZmlndXJhdGlvbnMgYXJlIGFwcGxpZWQgdG8gdGhlIHByb2plY3QuXG4gICAqL1xuICBwcm90ZWN0ZWQgaW5pdGlhbGl6ZUJhc2VDb25maWdzKG9wdGlvbnM6IEJhc2VQcm9qZWN0T3B0aW9ucyk6IHZvaWQge1xuICAgIHRoaXMudHlwZXNjcmlwdCA9IG9wdGlvbnMudHlwZXNjcmlwdEVuYWJsZWQgPz8gZmFsc2U7XG4gIH1cblxuICBwdWJsaWMgb3ZlcnJpZGUgcHJlU3ludGhlc2l6ZSgpOiB2b2lkIHtcbiAgICByZWdpc3RlckNvbmZpZyh0aGlzLmNvbXBvbmVudHMpO1xuICAgIHN1cGVyLnByZVN5bnRoZXNpemUoKTtcbiAgfVxuXG4gIHB1YmxpYyBvdmVycmlkZSBwb3N0U3ludGhlc2l6ZSgpOiB2b2lkIHtcbiAgICBzdXBlci5wb3N0U3ludGhlc2l6ZSgpO1xuICB9XG59XG4iXX0=