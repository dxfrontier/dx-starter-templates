"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.BaseProject = void 0;
const typescript_1 = require("projen/lib/typescript");
const options_1 = require("./config/options");
const git_1 = require("./config/git");
const utils_1 = require("../util/utils");
/**
 * Base class for managing project configuration.
 */
class BaseProject extends typescript_1.TypeScriptProject {
    /**
     * Initializes the project.
     * @param options Additional project options.
     */
    constructor(options) {
        super({
            ...options_1.BaseOptions.sharedOptions(options),
        });
        new git_1.GitConfigBase(this);
        this.initializeBaseConfigs(options);
        this.kind = 'base';
    }
    /**
     * Initializes the base configurations for the project.
     *
     * This method is responsible for initializing the core configurations related to TypeScript,
     * ESLint, and Jest, based on the provided options. The configuration objects are created and
     * initialized according to the flags passed in the `options` parameter. This allows the project
     * to be configured with specific tools only when needed, without unnecessary overhead.
     *
     * The method is overridden from the base class to provide a customized initialization process
     * for a project that is specifically tailored for GitHub Actions-based configurations.
     *
     * @param options - The configuration options used to initialize the various project settings.
     * The `options` object is expected to be of type `GitHubActionProjectOptions` and contains flags
     * that enable or disable specific configurations like `eslintEnabled`, `jestEnabled`, etc. The method
     * reads these flags and initializes the respective configuration objects (e.g., `typescriptConfig`,
     * `eslintConfig`, `jestConfig`) based on their values.
     *
     * @example
     * const options: GitHubActionProjectOptions = {
     *   eslintEnabled: true,
     *   jestEnabled: false,
     *   // other options...
     * };
     * this.initializeBaseConfigs(options);
     *
     * @remarks
     * - This method is overwritten by the child class to initialize the base configurations before
     *   proceeding with the setup of more specific configurations like GitHub, Husky, etc.
     * - The initialization of configurations is conditional based on the `options` flags, ensuring that only
     *   necessary configurations are applied to the project.
     */
    initializeBaseConfigs(options) {
        this.typescript = options.typescriptEnabled ?? false;
    }
    preSynthesize() {
        utils_1.util.registerConfig(this.components);
        super.preSynthesize();
    }
    postSynthesize() {
        super.postSynthesize();
    }
}
exports.BaseProject = BaseProject;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvamVjdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9iYXNlL3Byb2plY3QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsc0RBQW9GO0FBQ3BGLDhDQUErQztBQUkvQyxzQ0FBNkM7QUFRN0MseUNBQXFDO0FBOEVyQzs7R0FFRztBQUNILE1BQWEsV0FBWSxTQUFRLDhCQUFpQjtJQW9GaEQ7OztPQUdHO0lBQ0gsWUFBWSxPQUEyQjtRQUNyQyxLQUFLLENBQUM7WUFDSixHQUFHLHFCQUFXLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQztTQUN0QyxDQUFDLENBQUM7UUFFSCxJQUFJLG1CQUFhLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDeEIsSUFBSSxDQUFDLHFCQUFxQixDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ3BDLElBQUksQ0FBQyxJQUFJLEdBQUcsTUFBTSxDQUFDO0lBQ3JCLENBQUM7SUFFRDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O09BOEJHO0lBQ08scUJBQXFCLENBQUMsT0FBMkI7UUFDekQsSUFBSSxDQUFDLFVBQVUsR0FBRyxPQUFPLENBQUMsaUJBQWlCLElBQUksS0FBSyxDQUFDO0lBQ3ZELENBQUM7SUFFZSxhQUFhO1FBQzNCLFlBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ3JDLEtBQUssQ0FBQyxhQUFhLEVBQUUsQ0FBQztJQUN4QixDQUFDO0lBRWUsY0FBYztRQUM1QixLQUFLLENBQUMsY0FBYyxFQUFFLENBQUM7SUFDekIsQ0FBQztDQUNGO0FBN0lELGtDQTZJQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFR5cGVTY3JpcHRQcm9qZWN0LCBUeXBlU2NyaXB0UHJvamVjdE9wdGlvbnMgfSBmcm9tICdwcm9qZW4vbGliL3R5cGVzY3JpcHQnO1xuaW1wb3J0IHsgQmFzZU9wdGlvbnMgfSBmcm9tICcuL2NvbmZpZy9vcHRpb25zJztcbmltcG9ydCB7IE5wbUNvbmZpZ0Jhc2UgfSBmcm9tICcuL2NvbmZpZy9ucG0nO1xuaW1wb3J0IHsgRGV2Q29udGFpbmVyQ29uZmlnQmFzZSB9IGZyb20gJy4vY29uZmlnL2RldmNvbnRhaW5lcic7XG5pbXBvcnQgeyBFc0xpbnRDb25maWdCYXNlIH0gZnJvbSAnLi9jb25maWcvZXNsaW50JztcbmltcG9ydCB7IEdpdENvbmZpZ0Jhc2UgfSBmcm9tICcuL2NvbmZpZy9naXQnO1xuaW1wb3J0IHsgR2l0SHViQ29uZmlnQmFzZSB9IGZyb20gJy4vY29uZmlnL2dpdGh1Yic7XG5pbXBvcnQgeyBIdXNreUNvbmZpZ0Jhc2UgfSBmcm9tICcuL2NvbmZpZy9odXNreSc7XG5pbXBvcnQgeyBKZXN0Q29uZmlnQmFzZSB9IGZyb20gJy4vY29uZmlnL2plc3QnO1xuaW1wb3J0IHsgUHJldHRpZXJDb25maWdCYXNlIH0gZnJvbSAnLi9jb25maWcvcHJldHRpZXInO1xuaW1wb3J0IHsgU2FtcGxlQ29kZUNvbmZpZ0Jhc2UgfSBmcm9tICcuL2NvbmZpZy9zYW1wbGVjb2RlJztcbmltcG9ydCB7IFR5cGVTY3JpcHRDb25maWdCYXNlIH0gZnJvbSAnLi9jb25maWcvdHlwZXNjcmlwdCc7XG5pbXBvcnQgeyBWc0NvZGVDb25maWdCYXNlIH0gZnJvbSAnLi9jb25maWcvdnNjb2RlJztcbmltcG9ydCB7IHV0aWwgfSBmcm9tICcuLi91dGlsL3V0aWxzJztcbmltcG9ydCB7IENvbW1pdExpbnRDb25maWdCYXNlIH0gZnJvbSAnLi9jb25maWcvY29tbWl0bGludCc7XG5pbXBvcnQgeyBJUHJvamVjdEtpbmQsIFByb2plY3RLaW5kIH0gZnJvbSAnLi4vdXRpbC90eXBlcy9wcm9qZWN0JztcblxuZXhwb3J0IGludGVyZmFjZSBCYXNlUHJvamVjdE9wdGlvbnMgZXh0ZW5kcyBUeXBlU2NyaXB0UHJvamVjdE9wdGlvbnMge1xuICAvKipcbiAgICogV2hldGhlciB0byBlbmFibGUgdGhlIGNvbW1pdGxpbnQgY29uZmlndXJhdGlvbiBmb3IgdGhlIHByb2plY3QuXG4gICAqIElmIHNldCB0byBgdHJ1ZWAsIGNvbW1pdGxpbnQgY29uZmlndXJhdGlvbiB3aWxsIGJlIGVuYWJsZWQuXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICByZWFkb25seSBjb21taXRsaW50RW5hYmxlZD86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdG8gZW5hYmxlIHRoZSBkZXYgY29udGFpbmVyIGNvbmZpZ3VyYXRpb24gZm9yIHRoZSBwcm9qZWN0LlxuICAgKiBJZiBzZXQgdG8gYHRydWVgLCBkZXYgY29udGFpbmVyIGNvbmZpZ3VyYXRpb24gd2lsbCBiZSBlbmFibGVkLlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgcmVhZG9ubHkgZGV2Q29udGFpbmVyRW5hYmxlZD86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdG8gZW5hYmxlIHRoZSBFU0xpbnQgY29uZmlndXJhdGlvbiBmb3IgdGhlIHByb2plY3QuXG4gICAqIElmIHNldCB0byBgdHJ1ZWAsIEVTTGludCBjb25maWd1cmF0aW9uIHdpbGwgYmUgZW5hYmxlZC5cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIHJlYWRvbmx5IGVzbGludEVuYWJsZWQ/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRvIGVuYWJsZSB0aGUgR2l0SHViIGNvbmZpZ3VyYXRpb24gZm9yIHRoZSBwcm9qZWN0LlxuICAgKiBJZiBzZXQgdG8gYHRydWVgLCBHaXRIdWItcmVsYXRlZCBzZXR0aW5ncyB3aWxsIGJlIGNvbmZpZ3VyZWQgKGUuZy4sIGlzc3VlIHRlbXBsYXRlcywgUFIgdGVtcGxhdGVzKS5cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIHJlYWRvbmx5IGdpdGh1YkVuYWJsZWQ/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRvIGVuYWJsZSB0aGUgSHVza3kgY29uZmlndXJhdGlvbiBmb3IgdGhlIHByb2plY3QuXG4gICAqIElmIHNldCB0byBgdHJ1ZWAsIEh1c2t5IGhvb2tzIHdpbGwgYmUgZW5hYmxlZCB0byBlbmZvcmNlIGNvZGUgcXVhbGl0eSBjaGVja3MuXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICByZWFkb25seSBodXNreUVuYWJsZWQ/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRvIGVuYWJsZSB0aGUgSmVzdCBjb25maWd1cmF0aW9uIGZvciB0aGUgcHJvamVjdC5cbiAgICogSWYgc2V0IHRvIGB0cnVlYCwgSmVzdCB0ZXN0aW5nIGZyYW1ld29yayB3aWxsIGJlIGNvbmZpZ3VyZWQgZm9yIHRoZSBwcm9qZWN0LlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgcmVhZG9ubHkgamVzdEVuYWJsZWQ/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRvIGVuYWJsZSB0aGUgUHJldHRpZXIgY29uZmlndXJhdGlvbiBmb3IgdGhlIHByb2plY3QuXG4gICAqIElmIHNldCB0byBgdHJ1ZWAsIFByZXR0aWVyIGNvZGUgZm9ybWF0dGluZyBjb25maWd1cmF0aW9uIHdpbGwgYmUgZW5hYmxlZC5cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIHJlYWRvbmx5IHByZXR0aWVyRW5hYmxlZD86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdG8gZW5hYmxlIHRoZSBUeXBlU2NyaXB0IGNvbmZpZ3VyYXRpb24gZm9yIHRoZSBwcm9qZWN0LlxuICAgKiBJZiBzZXQgdG8gYHRydWVgLCBUeXBlU2NyaXB0LXNwZWNpZmljIHNldHRpbmdzIHdpbGwgYmUgY29uZmlndXJlZCBmb3IgdGhlIHByb2plY3QuXG4gICAqIElmIHNldCB0byBgZmFsc2VgIFR5cGVTY3JpcHQgd2lsbCBiZSBjb21wbGV0ZWx5IHJlbW92ZWQgZnJvbSB0aGUgcHJvamVjdCBhc1xuICAgKiBQcm9qZW4gcHJvamVjdHMgdXNlZCBpbiB0aGlzIGNvbnRleHQgYXJlIGFsd2F5cyByZWx5aW5nIG9uIFR5cGVTY3JpcHQuXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICByZWFkb25seSB0eXBlc2NyaXB0RW5hYmxlZD86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdG8gZW5hYmxlIHRoZSBWUyBDb2RlIGNvbmZpZ3VyYXRpb24gZm9yIHRoZSBwcm9qZWN0LlxuICAgKiBJZiBzZXQgdG8gYHRydWVgLCBWUyBDb2RlIHNldHRpbmdzIHdpbGwgYmUgYXBwbGllZCBmb3IgdGhlIHByb2plY3QuXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICByZWFkb25seSB2c2NvZGVFbmFibGVkPzogYm9vbGVhbjtcblxuICAvKipcbiAgICogV2hldGhlciB0byBpbmNsdWRlIHNhbXBsZSBjb2RlIGluIHRoZSBwcm9qZWN0LlxuICAgKiBJZiBzZXQgdG8gYHRydWVgLCBzYW1wbGUgY29kZSB3aWxsIGJlIGFkZGVkIHRvIHRoZSBwcm9qZWN0IHJlcG9zaXRvcnkuXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICByZWFkb25seSBzYW1wbGVDb2RlRW5hYmxlZD86IGJvb2xlYW47XG59XG5cbi8qKlxuICogQmFzZSBjbGFzcyBmb3IgbWFuYWdpbmcgcHJvamVjdCBjb25maWd1cmF0aW9uLlxuICovXG5leHBvcnQgY2xhc3MgQmFzZVByb2plY3QgZXh0ZW5kcyBUeXBlU2NyaXB0UHJvamVjdCBpbXBsZW1lbnRzIElQcm9qZWN0S2luZCB7XG4gIC8qKlxuICAgKiBDb25maWd1cmF0aW9uIGZvciBjb21taXRsaW50IHNldHRpbmdzIGluIHRoZSBwcm9qZWN0LlxuICAgKiBUaGlzIHByb3BlcnR5IGlzIGluaXRpYWxpemVkIGlmIGBjb21taXRsaW50RW5hYmxlZGAgb3B0aW9uIGlzIHByb3ZpZGVkIGR1cmluZyBwcm9qZWN0IGNyZWF0aW9uLlxuICAgKi9cbiAgcHVibGljIGNvbW1pdGxpbnRDb25maWc/OiBDb21taXRMaW50Q29uZmlnQmFzZTtcblxuICAvKipcbiAgICogQ29uZmlndXJhdGlvbiBmb3IgZGV2ZWxvcG1lbnQgY29udGFpbmVyIHNldHRpbmdzIGluIHRoZSBwcm9qZWN0LlxuICAgKiBUaGlzIHByb3BlcnR5IGlzIGluaXRpYWxpemVkIGlmIGBkZXZDb250YWluZXJFbmFibGVkYCBvcHRpb24gaXMgcHJvdmlkZWQgZHVyaW5nIHByb2plY3QgY3JlYXRpb24uXG4gICAqL1xuICBwdWJsaWMgZGV2Q29udGFpbmVyQ29uZmlnPzogRGV2Q29udGFpbmVyQ29uZmlnQmFzZTtcblxuICAvKipcbiAgICogQ29uZmlndXJhdGlvbiBmb3IgRVNMaW50IHNldHRpbmdzIGluIHRoZSBwcm9qZWN0LlxuICAgKiBUaGlzIHByb3BlcnR5IGlzIGluaXRpYWxpemVkIGlmIGBlc2xpbnRFbmFibGVkYCBvcHRpb24gaXMgcHJvdmlkZWQgZHVyaW5nIHByb2plY3QgY3JlYXRpb24uXG4gICAqL1xuICBwdWJsaWMgZXNsaW50Q29uZmlnPzogRXNMaW50Q29uZmlnQmFzZTtcblxuICAvKipcbiAgICogQ29uZmlndXJhdGlvbiBmb3IgR2l0IHNldHRpbmdzIGluIHRoZSBwcm9qZWN0LlxuICAgKiBUaGlzIHByb3BlcnR5IGlzIGFsd2F5cyBpbml0aWFsaXplZCBhcyBgZ2l0Q29uZmlnYCB3aGVuIHRoZSBwcm9qZWN0IGlzIGNyZWF0ZWQuXG4gICAqL1xuICBwdWJsaWMgZ2l0Q29uZmlnPzogR2l0Q29uZmlnQmFzZTtcblxuICAvKipcbiAgICogQ29uZmlndXJhdGlvbiBmb3IgR2l0SHViIHNldHRpbmdzIGluIHRoZSBwcm9qZWN0LlxuICAgKiBUaGlzIHByb3BlcnR5IGlzIGluaXRpYWxpemVkIGlmIGBnaXRodWJFbmFibGVkYCBvcHRpb24gaXMgcHJvdmlkZWQgZHVyaW5nIHByb2plY3QgY3JlYXRpb24uXG4gICAqL1xuICBwdWJsaWMgZ2l0aHViQ29uZmlnPzogR2l0SHViQ29uZmlnQmFzZTtcblxuICAvKipcbiAgICogQ29uZmlndXJhdGlvbiBmb3IgSHVza3kgc2V0dGluZ3MgaW4gdGhlIHByb2plY3QuXG4gICAqIFRoaXMgcHJvcGVydHkgaXMgaW5pdGlhbGl6ZWQgaWYgYGh1c2t5RW5hYmxlZGAgb3B0aW9uIGlzIHByb3ZpZGVkIGR1cmluZyBwcm9qZWN0IGNyZWF0aW9uLlxuICAgKi9cbiAgcHVibGljIGh1c2t5Q29uZmlnPzogSHVza3lDb25maWdCYXNlO1xuXG4gIC8qKlxuICAgKiBDb25maWd1cmF0aW9uIGZvciBKZXN0IHNldHRpbmdzIGluIHRoZSBwcm9qZWN0LlxuICAgKiBUaGlzIHByb3BlcnR5IGlzIGluaXRpYWxpemVkIGlmIGBqZXN0RW5hYmxlZGAgb3B0aW9uIGlzIHByb3ZpZGVkIGR1cmluZyBwcm9qZWN0IGNyZWF0aW9uLlxuICAgKi9cbiAgcHVibGljIGplc3RDb25maWc/OiBKZXN0Q29uZmlnQmFzZTtcblxuICAvKipcbiAgICogQ29uZmlndXJhdGlvbiBmb3IgTlBNIHNldHRpbmdzIGluIHRoZSBwcm9qZWN0LlxuICAgKiBUaGlzIHByb3BlcnR5IGlzIGFsd2F5cyBpbml0aWFsaXplZCBhcyBgbnBtQ29uZmlnYCB3aGVuIHRoZSBwcm9qZWN0IGlzIGNyZWF0ZWQuXG4gICAqL1xuICBwdWJsaWMgbnBtQ29uZmlnPzogTnBtQ29uZmlnQmFzZTtcblxuICAvKipcbiAgICogQ29uZmlndXJhdGlvbiBmb3IgUHJldHRpZXIgc2V0dGluZ3MgaW4gdGhlIHByb2plY3QuXG4gICAqIFRoaXMgcHJvcGVydHkgaXMgaW5pdGlhbGl6ZWQgaWYgYHByZXR0aWVyRW5hYmxlZGAgb3B0aW9uIGlzIHByb3ZpZGVkIGR1cmluZyBwcm9qZWN0IGNyZWF0aW9uLlxuICAgKi9cbiAgcHVibGljIHByZXR0aWVyQ29uZmlnPzogUHJldHRpZXJDb25maWdCYXNlO1xuXG4gIC8qKlxuICAgKiBDb25maWd1cmF0aW9uIGZvciBUeXBlU2NyaXB0IHNldHRpbmdzIGluIHRoZSBwcm9qZWN0LlxuICAgKiBUaGlzIHByb3BlcnR5IGlzIGFsd2F5cyBpbml0aWFsaXplZCBhcyBgdHlwZXNjcmlwdENvbmZpZ2Agd2hlbiB0aGUgcHJvamVjdCBpcyBjcmVhdGVkLlxuICAgKi9cbiAgcHVibGljIHR5cGVzY3JpcHRDb25maWc/OiBUeXBlU2NyaXB0Q29uZmlnQmFzZTtcblxuICAvKipcbiAgICogQ29uZmlndXJhdGlvbiBmb3IgVlMgQ29kZSBzZXR0aW5ncyBpbiB0aGUgcHJvamVjdC5cbiAgICogVGhpcyBwcm9wZXJ0eSBpcyBpbml0aWFsaXplZCBpZiBgdnNjb2RlRW5hYmxlZGAgb3B0aW9uIGlzIHByb3ZpZGVkIGR1cmluZyBwcm9qZWN0IGNyZWF0aW9uLlxuICAgKi9cbiAgcHVibGljIHZzY29kZUNvbmZpZz86IFZzQ29kZUNvbmZpZ0Jhc2U7XG5cbiAgLyoqXG4gICAqIENvbmZpZ3VyYXRpb24gZm9yIFNhbXBsZSBDb2RlIGluIHRoZSBwcm9qZWN0LlxuICAgKiBUaGlzIHByb3BlcnR5IGlzIGluaXRpYWxpemVkIGlmIGBzYW1wbGVDb2RlRW5hYmxlZGAgb3B0aW9uIGlzIHByb3ZpZGVkIGR1cmluZyBwcm9qZWN0IGNyZWF0aW9uLlxuICAgKi9cbiAgcHVibGljIHNhbXBsZUNvZGVDb25maWc/OiBTYW1wbGVDb2RlQ29uZmlnQmFzZTtcblxuICAvKipcbiAgICogVGhpcyBmbGFnIGFsaWducyB3aXRoIFByb2plbiBzdHJ1Y3R1cmUgdXNpbmcgZmxhZ3MgbGlrZSBgZXNsaW50YCwgYGRldkNvbnRhaW5lcmAsIC4uLi5cbiAgICogZm9yIGRlZmluaW5nIGlmIGNvbmZpZ3VyYXRpb24gZnVuY3Rpb25hbGl0eSBpcyBlbmFibGVkIG9yIG5vdC4gV2lsbCBhbGlnbiB3aXRoIGB0eXBlc2NyaXB0RW5hYmxlZGBcbiAgICogSWYgc2V0IHRvIGB0cnVlYCwgVHlwZVNjcmlwdC1zcGVjaWZpYyBzZXR0aW5ncyB3aWxsIGJlIGNvbmZpZ3VyZWQgZm9yIHRoZSBwcm9qZWN0LlxuICAgKiBJZiBzZXQgdG8gYGZhbHNlYCBUeXBlU2NyaXB0IHdpbGwgYmUgY29tcGxldGVseSByZW1vdmVkIGZyb20gdGhlIHByb2plY3QgYXNcbiAgICogUHJvamVuIHByb2plY3RzIHVzZWQgaW4gdGhpcyBjb250ZXh0IGFyZSBhbHdheXMgcmVseWluZyBvbiBUeXBlU2NyaXB0LlxuICAgKi9cbiAgcHVibGljIHR5cGVzY3JpcHQ/OiBib29sZWFuO1xuXG4gIHB1YmxpYyBraW5kOiBQcm9qZWN0S2luZDtcblxuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgdGhlIHByb2plY3QuXG4gICAqIEBwYXJhbSBvcHRpb25zIEFkZGl0aW9uYWwgcHJvamVjdCBvcHRpb25zLlxuICAgKi9cbiAgY29uc3RydWN0b3Iob3B0aW9uczogQmFzZVByb2plY3RPcHRpb25zKSB7XG4gICAgc3VwZXIoe1xuICAgICAgLi4uQmFzZU9wdGlvbnMuc2hhcmVkT3B0aW9ucyhvcHRpb25zKSxcbiAgICB9KTtcblxuICAgIG5ldyBHaXRDb25maWdCYXNlKHRoaXMpO1xuICAgIHRoaXMuaW5pdGlhbGl6ZUJhc2VDb25maWdzKG9wdGlvbnMpO1xuICAgIHRoaXMua2luZCA9ICdiYXNlJztcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyB0aGUgYmFzZSBjb25maWd1cmF0aW9ucyBmb3IgdGhlIHByb2plY3QuXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIGlzIHJlc3BvbnNpYmxlIGZvciBpbml0aWFsaXppbmcgdGhlIGNvcmUgY29uZmlndXJhdGlvbnMgcmVsYXRlZCB0byBUeXBlU2NyaXB0LFxuICAgKiBFU0xpbnQsIGFuZCBKZXN0LCBiYXNlZCBvbiB0aGUgcHJvdmlkZWQgb3B0aW9ucy4gVGhlIGNvbmZpZ3VyYXRpb24gb2JqZWN0cyBhcmUgY3JlYXRlZCBhbmRcbiAgICogaW5pdGlhbGl6ZWQgYWNjb3JkaW5nIHRvIHRoZSBmbGFncyBwYXNzZWQgaW4gdGhlIGBvcHRpb25zYCBwYXJhbWV0ZXIuIFRoaXMgYWxsb3dzIHRoZSBwcm9qZWN0XG4gICAqIHRvIGJlIGNvbmZpZ3VyZWQgd2l0aCBzcGVjaWZpYyB0b29scyBvbmx5IHdoZW4gbmVlZGVkLCB3aXRob3V0IHVubmVjZXNzYXJ5IG92ZXJoZWFkLlxuICAgKlxuICAgKiBUaGUgbWV0aG9kIGlzIG92ZXJyaWRkZW4gZnJvbSB0aGUgYmFzZSBjbGFzcyB0byBwcm92aWRlIGEgY3VzdG9taXplZCBpbml0aWFsaXphdGlvbiBwcm9jZXNzXG4gICAqIGZvciBhIHByb2plY3QgdGhhdCBpcyBzcGVjaWZpY2FsbHkgdGFpbG9yZWQgZm9yIEdpdEh1YiBBY3Rpb25zLWJhc2VkIGNvbmZpZ3VyYXRpb25zLlxuICAgKlxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIFRoZSBjb25maWd1cmF0aW9uIG9wdGlvbnMgdXNlZCB0byBpbml0aWFsaXplIHRoZSB2YXJpb3VzIHByb2plY3Qgc2V0dGluZ3MuXG4gICAqIFRoZSBgb3B0aW9uc2Agb2JqZWN0IGlzIGV4cGVjdGVkIHRvIGJlIG9mIHR5cGUgYEdpdEh1YkFjdGlvblByb2plY3RPcHRpb25zYCBhbmQgY29udGFpbnMgZmxhZ3NcbiAgICogdGhhdCBlbmFibGUgb3IgZGlzYWJsZSBzcGVjaWZpYyBjb25maWd1cmF0aW9ucyBsaWtlIGBlc2xpbnRFbmFibGVkYCwgYGplc3RFbmFibGVkYCwgZXRjLiBUaGUgbWV0aG9kXG4gICAqIHJlYWRzIHRoZXNlIGZsYWdzIGFuZCBpbml0aWFsaXplcyB0aGUgcmVzcGVjdGl2ZSBjb25maWd1cmF0aW9uIG9iamVjdHMgKGUuZy4sIGB0eXBlc2NyaXB0Q29uZmlnYCxcbiAgICogYGVzbGludENvbmZpZ2AsIGBqZXN0Q29uZmlnYCkgYmFzZWQgb24gdGhlaXIgdmFsdWVzLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBjb25zdCBvcHRpb25zOiBHaXRIdWJBY3Rpb25Qcm9qZWN0T3B0aW9ucyA9IHtcbiAgICogICBlc2xpbnRFbmFibGVkOiB0cnVlLFxuICAgKiAgIGplc3RFbmFibGVkOiBmYWxzZSxcbiAgICogICAvLyBvdGhlciBvcHRpb25zLi4uXG4gICAqIH07XG4gICAqIHRoaXMuaW5pdGlhbGl6ZUJhc2VDb25maWdzKG9wdGlvbnMpO1xuICAgKlxuICAgKiBAcmVtYXJrc1xuICAgKiAtIFRoaXMgbWV0aG9kIGlzIG92ZXJ3cml0dGVuIGJ5IHRoZSBjaGlsZCBjbGFzcyB0byBpbml0aWFsaXplIHRoZSBiYXNlIGNvbmZpZ3VyYXRpb25zIGJlZm9yZVxuICAgKiAgIHByb2NlZWRpbmcgd2l0aCB0aGUgc2V0dXAgb2YgbW9yZSBzcGVjaWZpYyBjb25maWd1cmF0aW9ucyBsaWtlIEdpdEh1YiwgSHVza3ksIGV0Yy5cbiAgICogLSBUaGUgaW5pdGlhbGl6YXRpb24gb2YgY29uZmlndXJhdGlvbnMgaXMgY29uZGl0aW9uYWwgYmFzZWQgb24gdGhlIGBvcHRpb25zYCBmbGFncywgZW5zdXJpbmcgdGhhdCBvbmx5XG4gICAqICAgbmVjZXNzYXJ5IGNvbmZpZ3VyYXRpb25zIGFyZSBhcHBsaWVkIHRvIHRoZSBwcm9qZWN0LlxuICAgKi9cbiAgcHJvdGVjdGVkIGluaXRpYWxpemVCYXNlQ29uZmlncyhvcHRpb25zOiBCYXNlUHJvamVjdE9wdGlvbnMpOiB2b2lkIHtcbiAgICB0aGlzLnR5cGVzY3JpcHQgPSBvcHRpb25zLnR5cGVzY3JpcHRFbmFibGVkID8/IGZhbHNlO1xuICB9XG5cbiAgcHVibGljIG92ZXJyaWRlIHByZVN5bnRoZXNpemUoKTogdm9pZCB7XG4gICAgdXRpbC5yZWdpc3RlckNvbmZpZyh0aGlzLmNvbXBvbmVudHMpO1xuICAgIHN1cGVyLnByZVN5bnRoZXNpemUoKTtcbiAgfVxuXG4gIHB1YmxpYyBvdmVycmlkZSBwb3N0U3ludGhlc2l6ZSgpOiB2b2lkIHtcbiAgICBzdXBlci5wb3N0U3ludGhlc2l6ZSgpO1xuICB9XG59XG4iXX0=