"use strict";
var _a;
Object.defineProperty(exports, "__esModule", { value: true });
exports.JsiiProject = void 0;
const JSII_RTTI_SYMBOL_1 = Symbol.for("jsii.rtti");
const projen_1 = require("projen");
const commitlint_1 = require("../base/config/commitlint");
const devcontainer_1 = require("../base/config/devcontainer");
const eslint_1 = require("../base/config/eslint");
const github_1 = require("../base/config/github");
const git_1 = require("../base/config/git");
const jest_1 = require("../base/config/jest");
const options_1 = require("../base/config/options");
const prettier_1 = require("../base/config/prettier");
const vscode_1 = require("../base/config/vscode");
const npm_1 = require("./config/npm");
const typescript_1 = require("./config/typescript");
const utils_1 = require("../util/utils");
const husky_1 = require("./config/husky");
/**
 * Base class for managing project Jsii configuration.
 */
class JsiiProject extends projen_1.cdk.JsiiProject {
    /**
     * Initializes the project.
     * @param options Additional project options.
     */
    constructor(options) {
        super({
            ...options_1.BaseOptions.sharedOptions(options),
            // tsconfig.dev.json needs to be enabled for Jsii Projects
            projenrcTs: true,
            disableTsconfigDev: options.disableTsconfigDev ?? false,
            disableTsconfig: options.disableTsconfig ?? true,
            tsconfig: {
                compilerOptions: {
                    allowImportingTsExtensions: true,
                },
            },
            jestOptions: {
                extraCliOptions: ['--verbose'],
            },
        });
        this.typescript = true;
        this.kind = 'base';
        this.gitConfig = new git_1.GitConfigBase(this);
        this.typescriptConfig = new typescript_1.TypeScriptConfigJsii(this);
        this.npmConfig = new npm_1.NpmConfigJsii(this);
        if (options.prettierEnabled) {
            this.prettierConfig = new prettier_1.PrettierConfigBase(this);
        }
        if (options.devContainerEnabled) {
            this.devContainerConfig = new devcontainer_1.DevContainerConfigBase(this);
        }
        if (options.eslintEnabled) {
            this.eslintConfig = new eslint_1.EsLintConfigBase(this);
        }
        if (options.jestEnabled) {
            this.jestConfig = new jest_1.JestConfigBase(this);
        }
        if (options.vscodeEnabled) {
            this.vscodeConfig = new vscode_1.VsCodeConfigBase(this);
        }
        if (options.githubEnabled) {
            this.githubConfig = new github_1.GitHubConfigBase(this);
        }
        if (options.commitlintEnabled) {
            this.commitlintConfig = new commitlint_1.CommitLintConfigBase(this);
        }
        if (options.huskyEnabled) {
            this.huskyConfig = new husky_1.HuskyConfigJsii(this);
        }
    }
    preSynthesize() {
        utils_1.util.registerConfig(this.components);
        super.preSynthesize();
    }
    postSynthesize() {
        super.postSynthesize();
    }
}
exports.JsiiProject = JsiiProject;
_a = JSII_RTTI_SYMBOL_1;
JsiiProject[_a] = { fqn: "@dxfrontier/projen-template-projects.JsiiProject", version: "0.0.0" };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvamVjdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9qc2lpL3Byb2plY3QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxtQ0FBNkI7QUFDN0IsMERBQWlFO0FBQ2pFLDhEQUFxRTtBQUNyRSxrREFBeUQ7QUFDekQsa0RBQXlEO0FBRXpELDRDQUFtRDtBQUNuRCw4Q0FBcUQ7QUFDckQsb0RBQXFEO0FBQ3JELHNEQUE2RDtBQUM3RCxrREFBeUQ7QUFDekQsc0NBQTZDO0FBQzdDLG9EQUEyRDtBQUMzRCx5Q0FBcUM7QUFHckMsMENBQWlEO0FBNERqRDs7R0FFRztBQUNILE1BQWEsV0FBWSxTQUFRLFlBQUcsQ0FBQyxXQUFXO0lBOEU5Qzs7O09BR0c7SUFDSCxZQUFZLE9BQTJCO1FBQ3JDLEtBQUssQ0FBQztZQUNKLEdBQUcscUJBQVcsQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDO1lBQ3JDLDBEQUEwRDtZQUMxRCxVQUFVLEVBQUUsSUFBSTtZQUNoQixrQkFBa0IsRUFBRSxPQUFPLENBQUMsa0JBQWtCLElBQUksS0FBSztZQUN2RCxlQUFlLEVBQUUsT0FBTyxDQUFDLGVBQWUsSUFBSSxJQUFJO1lBQ2hELFFBQVEsRUFBRTtnQkFDUixlQUFlLEVBQUU7b0JBQ2YsMEJBQTBCLEVBQUUsSUFBSTtpQkFDakM7YUFDRjtZQUNELFdBQVcsRUFBRTtnQkFDWCxlQUFlLEVBQUUsQ0FBQyxXQUFXLENBQUM7YUFDL0I7U0FDRixDQUFDLENBQUM7UUFFSCxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQztRQUN2QixJQUFJLENBQUMsSUFBSSxHQUFHLE1BQU0sQ0FBQztRQUVuQixJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksbUJBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN6QyxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxpQ0FBb0IsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN2RCxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksbUJBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUV6QyxJQUFJLE9BQU8sQ0FBQyxlQUFlLEVBQUUsQ0FBQztZQUM1QixJQUFJLENBQUMsY0FBYyxHQUFHLElBQUksNkJBQWtCLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDckQsQ0FBQztRQUNELElBQUksT0FBTyxDQUFDLG1CQUFtQixFQUFFLENBQUM7WUFDaEMsSUFBSSxDQUFDLGtCQUFrQixHQUFHLElBQUkscUNBQXNCLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDN0QsQ0FBQztRQUNELElBQUksT0FBTyxDQUFDLGFBQWEsRUFBRSxDQUFDO1lBQzFCLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSx5QkFBZ0IsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNqRCxDQUFDO1FBQ0QsSUFBSSxPQUFPLENBQUMsV0FBVyxFQUFFLENBQUM7WUFDeEIsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLHFCQUFjLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDN0MsQ0FBQztRQUNELElBQUksT0FBTyxDQUFDLGFBQWEsRUFBRSxDQUFDO1lBQzFCLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSx5QkFBZ0IsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNqRCxDQUFDO1FBQ0QsSUFBSSxPQUFPLENBQUMsYUFBYSxFQUFFLENBQUM7WUFDMUIsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLHlCQUFnQixDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ2pELENBQUM7UUFDRCxJQUFJLE9BQU8sQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1lBQzlCLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLGlDQUFvQixDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3pELENBQUM7UUFDRCxJQUFJLE9BQU8sQ0FBQyxZQUFZLEVBQUUsQ0FBQztZQUN6QixJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksdUJBQWUsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUMvQyxDQUFDO0lBQ0gsQ0FBQztJQUVlLGFBQWE7UUFDM0IsWUFBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDckMsS0FBSyxDQUFDLGFBQWEsRUFBRSxDQUFDO0lBQ3hCLENBQUM7SUFFZSxjQUFjO1FBQzVCLEtBQUssQ0FBQyxjQUFjLEVBQUUsQ0FBQztJQUN6QixDQUFDOztBQTNJSCxrQ0E0SUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjZGsgfSBmcm9tICdwcm9qZW4nO1xuaW1wb3J0IHsgQ29tbWl0TGludENvbmZpZ0Jhc2UgfSBmcm9tICcuLi9iYXNlL2NvbmZpZy9jb21taXRsaW50JztcbmltcG9ydCB7IERldkNvbnRhaW5lckNvbmZpZ0Jhc2UgfSBmcm9tICcuLi9iYXNlL2NvbmZpZy9kZXZjb250YWluZXInO1xuaW1wb3J0IHsgRXNMaW50Q29uZmlnQmFzZSB9IGZyb20gJy4uL2Jhc2UvY29uZmlnL2VzbGludCc7XG5pbXBvcnQgeyBHaXRIdWJDb25maWdCYXNlIH0gZnJvbSAnLi4vYmFzZS9jb25maWcvZ2l0aHViJztcbmltcG9ydCB7IEh1c2t5Q29uZmlnQmFzZSB9IGZyb20gJy4uL2Jhc2UvY29uZmlnL2h1c2t5JztcbmltcG9ydCB7IEdpdENvbmZpZ0Jhc2UgfSBmcm9tICcuLi9iYXNlL2NvbmZpZy9naXQnO1xuaW1wb3J0IHsgSmVzdENvbmZpZ0Jhc2UgfSBmcm9tICcuLi9iYXNlL2NvbmZpZy9qZXN0JztcbmltcG9ydCB7IEJhc2VPcHRpb25zIH0gZnJvbSAnLi4vYmFzZS9jb25maWcvb3B0aW9ucyc7XG5pbXBvcnQgeyBQcmV0dGllckNvbmZpZ0Jhc2UgfSBmcm9tICcuLi9iYXNlL2NvbmZpZy9wcmV0dGllcic7XG5pbXBvcnQgeyBWc0NvZGVDb25maWdCYXNlIH0gZnJvbSAnLi4vYmFzZS9jb25maWcvdnNjb2RlJztcbmltcG9ydCB7IE5wbUNvbmZpZ0pzaWkgfSBmcm9tICcuL2NvbmZpZy9ucG0nO1xuaW1wb3J0IHsgVHlwZVNjcmlwdENvbmZpZ0pzaWkgfSBmcm9tICcuL2NvbmZpZy90eXBlc2NyaXB0JztcbmltcG9ydCB7IHV0aWwgfSBmcm9tICcuLi91dGlsL3V0aWxzJztcbmltcG9ydCB7IElQcm9qZWN0S2luZCwgUHJvamVjdEtpbmQgfSBmcm9tICcuLi91dGlsL3R5cGVzL3Byb2plY3QnO1xuaW1wb3J0IHsgVHlwZVNjcmlwdENvbmZpZ0Jhc2UgfSBmcm9tICcuLi9iYXNlL2NvbmZpZy90eXBlc2NyaXB0JztcbmltcG9ydCB7IEh1c2t5Q29uZmlnSnNpaSB9IGZyb20gJy4vY29uZmlnL2h1c2t5JztcblxuZXhwb3J0IGludGVyZmFjZSBKc2lpUHJvamVjdE9wdGlvbnMgZXh0ZW5kcyBjZGsuSnNpaVByb2plY3RPcHRpb25zIHtcbiAgLyoqXG4gICAqIFdoZXRoZXIgdG8gZW5hYmxlIHRoZSBjb21taXRsaW50IGNvbmZpZ3VyYXRpb24gZm9yIHRoZSBwcm9qZWN0LlxuICAgKiBJZiBzZXQgdG8gYHRydWVgLCBjb21taXRsaW50IGNvbmZpZ3VyYXRpb24gd2lsbCBiZSBlbmFibGVkLlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgcmVhZG9ubHkgY29tbWl0bGludEVuYWJsZWQ/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRvIGVuYWJsZSB0aGUgZGV2IGNvbnRhaW5lciBjb25maWd1cmF0aW9uIGZvciB0aGUgcHJvamVjdC5cbiAgICogSWYgc2V0IHRvIGB0cnVlYCwgZGV2IGNvbnRhaW5lciBjb25maWd1cmF0aW9uIHdpbGwgYmUgZW5hYmxlZC5cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIHJlYWRvbmx5IGRldkNvbnRhaW5lckVuYWJsZWQ/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRvIGVuYWJsZSB0aGUgRVNMaW50IGNvbmZpZ3VyYXRpb24gZm9yIHRoZSBwcm9qZWN0LlxuICAgKiBJZiBzZXQgdG8gYHRydWVgLCBFU0xpbnQgY29uZmlndXJhdGlvbiB3aWxsIGJlIGVuYWJsZWQuXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICByZWFkb25seSBlc2xpbnRFbmFibGVkPzogYm9vbGVhbjtcblxuICAvKipcbiAgICogV2hldGhlciB0byBlbmFibGUgdGhlIEdpdEh1YiBjb25maWd1cmF0aW9uIGZvciB0aGUgcHJvamVjdC5cbiAgICogSWYgc2V0IHRvIGB0cnVlYCwgR2l0SHViLXJlbGF0ZWQgc2V0dGluZ3Mgd2lsbCBiZSBjb25maWd1cmVkIChlLmcuLCBpc3N1ZSB0ZW1wbGF0ZXMsIFBSIHRlbXBsYXRlcykuXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICByZWFkb25seSBnaXRodWJFbmFibGVkPzogYm9vbGVhbjtcblxuICAvKipcbiAgICogV2hldGhlciB0byBlbmFibGUgdGhlIEh1c2t5IGNvbmZpZ3VyYXRpb24gZm9yIHRoZSBwcm9qZWN0LlxuICAgKiBJZiBzZXQgdG8gYHRydWVgLCBIdXNreSBob29rcyB3aWxsIGJlIGVuYWJsZWQgdG8gZW5mb3JjZSBjb2RlIHF1YWxpdHkgY2hlY2tzLlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgcmVhZG9ubHkgaHVza3lFbmFibGVkPzogYm9vbGVhbjtcblxuICAvKipcbiAgICogV2hldGhlciB0byBlbmFibGUgdGhlIEplc3QgY29uZmlndXJhdGlvbiBmb3IgdGhlIHByb2plY3QuXG4gICAqIElmIHNldCB0byBgdHJ1ZWAsIEplc3QgdGVzdGluZyBmcmFtZXdvcmsgd2lsbCBiZSBjb25maWd1cmVkIGZvciB0aGUgcHJvamVjdC5cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIHJlYWRvbmx5IGplc3RFbmFibGVkPzogYm9vbGVhbjtcblxuICAvKipcbiAgICogV2hldGhlciB0byBlbmFibGUgdGhlIFByZXR0aWVyIGNvbmZpZ3VyYXRpb24gZm9yIHRoZSBwcm9qZWN0LlxuICAgKiBJZiBzZXQgdG8gYHRydWVgLCBQcmV0dGllciBjb2RlIGZvcm1hdHRpbmcgY29uZmlndXJhdGlvbiB3aWxsIGJlIGVuYWJsZWQuXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICByZWFkb25seSBwcmV0dGllckVuYWJsZWQ/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRvIGVuYWJsZSB0aGUgVlMgQ29kZSBjb25maWd1cmF0aW9uIGZvciB0aGUgcHJvamVjdC5cbiAgICogSWYgc2V0IHRvIGB0cnVlYCwgVlMgQ29kZSBzZXR0aW5ncyB3aWxsIGJlIGFwcGxpZWQgZm9yIHRoZSBwcm9qZWN0LlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgcmVhZG9ubHkgdnNjb2RlRW5hYmxlZD86IGJvb2xlYW47XG59XG5cbi8qKlxuICogQmFzZSBjbGFzcyBmb3IgbWFuYWdpbmcgcHJvamVjdCBKc2lpIGNvbmZpZ3VyYXRpb24uXG4gKi9cbmV4cG9ydCBjbGFzcyBKc2lpUHJvamVjdCBleHRlbmRzIGNkay5Kc2lpUHJvamVjdCBpbXBsZW1lbnRzIElQcm9qZWN0S2luZCB7XG4gIC8qKlxuICAgKiBDb25maWd1cmF0aW9uIGZvciBjb21taXRsaW50IHNldHRpbmdzIGluIHRoZSBwcm9qZWN0LlxuICAgKiBUaGlzIHByb3BlcnR5IGlzIGluaXRpYWxpemVkIGlmIGBjb21taXRsaW50RW5hYmxlZGAgb3B0aW9uIGlzIHByb3ZpZGVkIGR1cmluZyBwcm9qZWN0IGNyZWF0aW9uLlxuICAgKi9cbiAgcHVibGljIHJlYWRvbmx5IGNvbW1pdGxpbnRDb25maWc/OiBDb21taXRMaW50Q29uZmlnQmFzZTtcblxuICAvKipcbiAgICogQ29uZmlndXJhdGlvbiBmb3IgZGV2ZWxvcG1lbnQgY29udGFpbmVyIHNldHRpbmdzIGluIHRoZSBwcm9qZWN0LlxuICAgKiBUaGlzIHByb3BlcnR5IGlzIGluaXRpYWxpemVkIGlmIGBkZXZDb250YWluZXJFbmFibGVkYCBvcHRpb24gaXMgcHJvdmlkZWQgZHVyaW5nIHByb2plY3QgY3JlYXRpb24uXG4gICAqL1xuICBwdWJsaWMgcmVhZG9ubHkgZGV2Q29udGFpbmVyQ29uZmlnPzogRGV2Q29udGFpbmVyQ29uZmlnQmFzZTtcblxuICAvKipcbiAgICogQ29uZmlndXJhdGlvbiBmb3IgRVNMaW50IHNldHRpbmdzIGluIHRoZSBwcm9qZWN0LlxuICAgKiBUaGlzIHByb3BlcnR5IGlzIGluaXRpYWxpemVkIGlmIGBlc2xpbnRFbmFibGVkYCBvcHRpb24gaXMgcHJvdmlkZWQgZHVyaW5nIHByb2plY3QgY3JlYXRpb24uXG4gICAqL1xuICBwdWJsaWMgcmVhZG9ubHkgZXNsaW50Q29uZmlnPzogRXNMaW50Q29uZmlnQmFzZTtcblxuICAvKipcbiAgICogQ29uZmlndXJhdGlvbiBmb3IgR2l0IHNldHRpbmdzIGluIHRoZSBwcm9qZWN0LlxuICAgKiBUaGlzIHByb3BlcnR5IGlzIGFsd2F5cyBpbml0aWFsaXplZCBhcyBgZ2l0Q29uZmlnYCB3aGVuIHRoZSBwcm9qZWN0IGlzIGNyZWF0ZWQuXG4gICAqL1xuICBwdWJsaWMgZ2l0Q29uZmlnPzogR2l0Q29uZmlnQmFzZTtcblxuICAvKipcbiAgICogQ29uZmlndXJhdGlvbiBmb3IgR2l0SHViIHNldHRpbmdzIGluIHRoZSBwcm9qZWN0LlxuICAgKiBUaGlzIHByb3BlcnR5IGlzIGluaXRpYWxpemVkIGlmIGBnaXRodWJFbmFibGVkYCBvcHRpb24gaXMgcHJvdmlkZWQgZHVyaW5nIHByb2plY3QgY3JlYXRpb24uXG4gICAqL1xuICBwdWJsaWMgcmVhZG9ubHkgZ2l0aHViQ29uZmlnPzogR2l0SHViQ29uZmlnQmFzZTtcblxuICAvKipcbiAgICogQ29uZmlndXJhdGlvbiBmb3IgSHVza3kgc2V0dGluZ3MgaW4gdGhlIHByb2plY3QuXG4gICAqIFRoaXMgcHJvcGVydHkgaXMgaW5pdGlhbGl6ZWQgaWYgYGh1c2t5RW5hYmxlZGAgb3B0aW9uIGlzIHByb3ZpZGVkIGR1cmluZyBwcm9qZWN0IGNyZWF0aW9uLlxuICAgKi9cbiAgcHVibGljIHJlYWRvbmx5IGh1c2t5Q29uZmlnPzogSHVza3lDb25maWdCYXNlO1xuXG4gIC8qKlxuICAgKiBDb25maWd1cmF0aW9uIGZvciBKZXN0IHNldHRpbmdzIGluIHRoZSBwcm9qZWN0LlxuICAgKiBUaGlzIHByb3BlcnR5IGlzIGluaXRpYWxpemVkIGlmIGBqZXN0RW5hYmxlZGAgb3B0aW9uIGlzIHByb3ZpZGVkIGR1cmluZyBwcm9qZWN0IGNyZWF0aW9uLlxuICAgKi9cbiAgcHVibGljIHJlYWRvbmx5IGplc3RDb25maWc/OiBKZXN0Q29uZmlnQmFzZTtcblxuICAvKipcbiAgICogQ29uZmlndXJhdGlvbiBmb3IgTlBNIHNldHRpbmdzIGluIHRoZSBwcm9qZWN0LlxuICAgKiBUaGlzIHByb3BlcnR5IGlzIGFsd2F5cyBpbml0aWFsaXplZCBhcyBgbnBtQ29uZmlnYCB3aGVuIHRoZSBwcm9qZWN0IGlzIGNyZWF0ZWQuXG4gICAqL1xuICBwdWJsaWMgcmVhZG9ubHkgbnBtQ29uZmlnPzogTnBtQ29uZmlnSnNpaTtcblxuICAvKipcbiAgICogQ29uZmlndXJhdGlvbiBmb3IgUHJldHRpZXIgc2V0dGluZ3MgaW4gdGhlIHByb2plY3QuXG4gICAqIFRoaXMgcHJvcGVydHkgaXMgaW5pdGlhbGl6ZWQgaWYgYHByZXR0aWVyRW5hYmxlZGAgb3B0aW9uIGlzIHByb3ZpZGVkIGR1cmluZyBwcm9qZWN0IGNyZWF0aW9uLlxuICAgKi9cbiAgcHVibGljIHJlYWRvbmx5IHByZXR0aWVyQ29uZmlnPzogUHJldHRpZXJDb25maWdCYXNlO1xuXG4gIC8qKlxuICAgKiBDb25maWd1cmF0aW9uIGZvciBWUyBDb2RlIHNldHRpbmdzIGluIHRoZSBwcm9qZWN0LlxuICAgKiBUaGlzIHByb3BlcnR5IGlzIGluaXRpYWxpemVkIGlmIGB2c2NvZGVFbmFibGVkYCBvcHRpb24gaXMgcHJvdmlkZWQgZHVyaW5nIHByb2plY3QgY3JlYXRpb24uXG4gICAqL1xuICBwdWJsaWMgcmVhZG9ubHkgdnNjb2RlQ29uZmlnPzogVnNDb2RlQ29uZmlnQmFzZTtcblxuICAvKipcbiAgICogQ29uZmlndXJhdGlvbiBmb3IgVHlwZVNjcmlwdCBzZXR0aW5ncyBpbiB0aGUgcHJvamVjdC5cbiAgICogVGhpcyBwcm9wZXJ0eSBpcyBhbHdheXMgaW5pdGlhbGl6ZWQgYXMgYHR5cGVzY3JpcHRDb25maWdgIHdoZW4gdGhlIHByb2plY3QgaXMgY3JlYXRlZC5cbiAgICovXG4gIHB1YmxpYyB0eXBlc2NyaXB0Q29uZmlnPzogVHlwZVNjcmlwdENvbmZpZ0Jhc2U7XG5cbiAgLyoqXG4gICAqIFRoaXMgZmxhZyBhbGlnbnMgd2l0aCBQcm9qZW4gc3RydWN0dXJlIHVzaW5nIGZsYWdzIGxpa2UgYGVzbGludGAsIGBkZXZDb250YWluZXJgLCAuLi4uXG4gICAqIGZvciBkZWZpbmluZyBpZiBjb25maWd1cmF0aW9uIGZ1bmN0aW9uYWxpdHkgaXMgZW5hYmxlZCBvciBub3QuIFdpbGwgYWxpZ24gd2l0aCBgdHlwZXNjcmlwdEVuYWJsZWRgXG4gICAqIElmIHNldCB0byBgdHJ1ZWAsIFR5cGVTY3JpcHQtc3BlY2lmaWMgc2V0dGluZ3Mgd2lsbCBiZSBjb25maWd1cmVkIGZvciB0aGUgcHJvamVjdC5cbiAgICogSWYgc2V0IHRvIGBmYWxzZWAgVHlwZVNjcmlwdCB3aWxsIGJlIGNvbXBsZXRlbHkgcmVtb3ZlZCBmcm9tIHRoZSBwcm9qZWN0IGFzXG4gICAqIFByb2plbiBwcm9qZWN0cyB1c2VkIGluIHRoaXMgY29udGV4dCBhcmUgYWx3YXlzIHJlbHlpbmcgb24gVHlwZVNjcmlwdC5cbiAgICovXG4gIHB1YmxpYyB0eXBlc2NyaXB0PzogYm9vbGVhbjtcblxuICBwdWJsaWMga2luZDogUHJvamVjdEtpbmQ7XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIHRoZSBwcm9qZWN0LlxuICAgKiBAcGFyYW0gb3B0aW9ucyBBZGRpdGlvbmFsIHByb2plY3Qgb3B0aW9ucy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnM6IEpzaWlQcm9qZWN0T3B0aW9ucykge1xuICAgIHN1cGVyKHtcbiAgICAgIC4uLkJhc2VPcHRpb25zLnNoYXJlZE9wdGlvbnMob3B0aW9ucyksXG4gICAgICAvLyB0c2NvbmZpZy5kZXYuanNvbiBuZWVkcyB0byBiZSBlbmFibGVkIGZvciBKc2lpIFByb2plY3RzXG4gICAgICBwcm9qZW5yY1RzOiB0cnVlLFxuICAgICAgZGlzYWJsZVRzY29uZmlnRGV2OiBvcHRpb25zLmRpc2FibGVUc2NvbmZpZ0RldiA/PyBmYWxzZSxcbiAgICAgIGRpc2FibGVUc2NvbmZpZzogb3B0aW9ucy5kaXNhYmxlVHNjb25maWcgPz8gdHJ1ZSxcbiAgICAgIHRzY29uZmlnOiB7XG4gICAgICAgIGNvbXBpbGVyT3B0aW9uczoge1xuICAgICAgICAgIGFsbG93SW1wb3J0aW5nVHNFeHRlbnNpb25zOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGplc3RPcHRpb25zOiB7XG4gICAgICAgIGV4dHJhQ2xpT3B0aW9uczogWyctLXZlcmJvc2UnXSxcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICB0aGlzLnR5cGVzY3JpcHQgPSB0cnVlO1xuICAgIHRoaXMua2luZCA9ICdiYXNlJztcblxuICAgIHRoaXMuZ2l0Q29uZmlnID0gbmV3IEdpdENvbmZpZ0Jhc2UodGhpcyk7XG4gICAgdGhpcy50eXBlc2NyaXB0Q29uZmlnID0gbmV3IFR5cGVTY3JpcHRDb25maWdKc2lpKHRoaXMpO1xuICAgIHRoaXMubnBtQ29uZmlnID0gbmV3IE5wbUNvbmZpZ0pzaWkodGhpcyk7XG5cbiAgICBpZiAob3B0aW9ucy5wcmV0dGllckVuYWJsZWQpIHtcbiAgICAgIHRoaXMucHJldHRpZXJDb25maWcgPSBuZXcgUHJldHRpZXJDb25maWdCYXNlKHRoaXMpO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5kZXZDb250YWluZXJFbmFibGVkKSB7XG4gICAgICB0aGlzLmRldkNvbnRhaW5lckNvbmZpZyA9IG5ldyBEZXZDb250YWluZXJDb25maWdCYXNlKHRoaXMpO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5lc2xpbnRFbmFibGVkKSB7XG4gICAgICB0aGlzLmVzbGludENvbmZpZyA9IG5ldyBFc0xpbnRDb25maWdCYXNlKHRoaXMpO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5qZXN0RW5hYmxlZCkge1xuICAgICAgdGhpcy5qZXN0Q29uZmlnID0gbmV3IEplc3RDb25maWdCYXNlKHRoaXMpO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy52c2NvZGVFbmFibGVkKSB7XG4gICAgICB0aGlzLnZzY29kZUNvbmZpZyA9IG5ldyBWc0NvZGVDb25maWdCYXNlKHRoaXMpO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5naXRodWJFbmFibGVkKSB7XG4gICAgICB0aGlzLmdpdGh1YkNvbmZpZyA9IG5ldyBHaXRIdWJDb25maWdCYXNlKHRoaXMpO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5jb21taXRsaW50RW5hYmxlZCkge1xuICAgICAgdGhpcy5jb21taXRsaW50Q29uZmlnID0gbmV3IENvbW1pdExpbnRDb25maWdCYXNlKHRoaXMpO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5odXNreUVuYWJsZWQpIHtcbiAgICAgIHRoaXMuaHVza3lDb25maWcgPSBuZXcgSHVza3lDb25maWdKc2lpKHRoaXMpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBvdmVycmlkZSBwcmVTeW50aGVzaXplKCk6IHZvaWQge1xuICAgIHV0aWwucmVnaXN0ZXJDb25maWcodGhpcy5jb21wb25lbnRzKTtcbiAgICBzdXBlci5wcmVTeW50aGVzaXplKCk7XG4gIH1cblxuICBwdWJsaWMgb3ZlcnJpZGUgcG9zdFN5bnRoZXNpemUoKTogdm9pZCB7XG4gICAgc3VwZXIucG9zdFN5bnRoZXNpemUoKTtcbiAgfVxufVxuIl19