"use strict";
var _a;
Object.defineProperty(exports, "__esModule", { value: true });
exports.JsiiProject = void 0;
const JSII_RTTI_SYMBOL_1 = Symbol.for("jsii.rtti");
const projen_1 = require("projen");
const commitlint_1 = require("../base/commitlint");
const devcontainer_1 = require("../base/devcontainer");
const eslint_1 = require("../base/eslint");
const github_1 = require("../base/github");
const husky_1 = require("../base/husky");
const git_1 = require("../base/git");
const jest_1 = require("../base/jest");
const options_1 = require("../base/options");
const prettier_1 = require("../base/prettier");
const vscode_1 = require("../base/vscode");
const npm_1 = require("./npm");
const typescript_1 = require("./typescript");
const utils_1 = require("../utils");
/**
 * Base class for managing project Jsii configuration.
 */
class JsiiProject extends projen_1.cdk.JsiiProject {
    /**
     * Initializes the project.
     * @param options Additional project options.
     */
    constructor(options) {
        super({
            ...options_1.BaseOptions.sharedOptions(options),
            // tsconfig.dev.json needs to be enabled for Jsii Projects
            projenrcTs: true,
            disableTsconfigDev: options.disableTsconfigDev ?? false,
            disableTsconfig: options.disableTsconfig ?? true,
            tsconfig: {
                compilerOptions: {
                    allowImportingTsExtensions: true,
                },
            },
        });
        this.typescript = true;
        this.kind = 'base';
        new git_1.GitConfigBase(this);
        new typescript_1.TypeScriptConfigJsii(this);
        this.npmConfig = new npm_1.NpmConfigJsii(this);
        if (options.prettierEnabled) {
            this.prettierConfig = new prettier_1.PrettierConfigBase(this);
        }
        if (options.devContainerEnabled) {
            this.devContainerConfig = new devcontainer_1.DevContainerConfigBase(this);
        }
        if (options.eslintEnabled) {
            this.eslintConfig = new eslint_1.EsLintConfigBase(this);
        }
        if (options.jestEnabled) {
            this.jestConfig = new jest_1.JestConfigBase(this);
        }
        if (options.vscodeEnabled) {
            this.vscodeConfig = new vscode_1.VsCodeConfigBase(this);
        }
        if (options.githubEnabled) {
            this.githubConfig = new github_1.GitHubConfigBase(this);
        }
        if (options.commitlintEnabled) {
            this.commitlintConfig = new commitlint_1.CommitLintConfigBase(this);
        }
        if (options.huskyEnabled) {
            this.huskyConfig = new husky_1.HuskyConfigBase(this);
        }
    }
    preSynthesize() {
        (0, utils_1.registerConfig)(this.components);
        super.preSynthesize();
    }
    postSynthesize() {
        super.postSynthesize();
    }
}
exports.JsiiProject = JsiiProject;
_a = JSII_RTTI_SYMBOL_1;
JsiiProject[_a] = { fqn: "@dxfrontier/projen-template-projects.JsiiProject", version: "0.0.0" };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvamVjdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9qc2lpL3Byb2plY3QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxtQ0FBNkI7QUFDN0IsbURBQTBEO0FBQzFELHVEQUE4RDtBQUM5RCwyQ0FBa0Q7QUFDbEQsMkNBQWtEO0FBQ2xELHlDQUFnRDtBQUNoRCxxQ0FBNEM7QUFDNUMsdUNBQThDO0FBQzlDLDZDQUE4QztBQUM5QywrQ0FBc0Q7QUFDdEQsMkNBQWtEO0FBQ2xELCtCQUFzQztBQUN0Qyw2Q0FBb0Q7QUFDcEQsb0NBQTBDO0FBNkQxQzs7R0FFRztBQUNILE1BQWEsV0FBWSxTQUFRLFlBQUcsQ0FBQyxXQUFXO0lBa0U5Qzs7O09BR0c7SUFDSCxZQUFZLE9BQTJCO1FBQ3JDLEtBQUssQ0FBQztZQUNKLEdBQUcscUJBQVcsQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDO1lBQ3JDLDBEQUEwRDtZQUMxRCxVQUFVLEVBQUUsSUFBSTtZQUNoQixrQkFBa0IsRUFBRSxPQUFPLENBQUMsa0JBQWtCLElBQUksS0FBSztZQUN2RCxlQUFlLEVBQUUsT0FBTyxDQUFDLGVBQWUsSUFBSSxJQUFJO1lBQ2hELFFBQVEsRUFBRTtnQkFDUixlQUFlLEVBQUU7b0JBQ2YsMEJBQTBCLEVBQUUsSUFBSTtpQkFDakM7YUFDRjtTQUNGLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxJQUFJLEdBQUcsTUFBTSxDQUFDO1FBRW5CLElBQUksbUJBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN4QixJQUFJLGlDQUFvQixDQUFDLElBQUksQ0FBQyxDQUFDO1FBQy9CLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxtQkFBYSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBRXpDLElBQUksT0FBTyxDQUFDLGVBQWUsRUFBRSxDQUFDO1lBQzVCLElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSw2QkFBa0IsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNyRCxDQUFDO1FBQ0QsSUFBSSxPQUFPLENBQUMsbUJBQW1CLEVBQUUsQ0FBQztZQUNoQyxJQUFJLENBQUMsa0JBQWtCLEdBQUcsSUFBSSxxQ0FBc0IsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUM3RCxDQUFDO1FBQ0QsSUFBSSxPQUFPLENBQUMsYUFBYSxFQUFFLENBQUM7WUFDMUIsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLHlCQUFnQixDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ2pELENBQUM7UUFDRCxJQUFJLE9BQU8sQ0FBQyxXQUFXLEVBQUUsQ0FBQztZQUN4QixJQUFJLENBQUMsVUFBVSxHQUFHLElBQUkscUJBQWMsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUM3QyxDQUFDO1FBQ0QsSUFBSSxPQUFPLENBQUMsYUFBYSxFQUFFLENBQUM7WUFDMUIsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLHlCQUFnQixDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ2pELENBQUM7UUFDRCxJQUFJLE9BQU8sQ0FBQyxhQUFhLEVBQUUsQ0FBQztZQUMxQixJQUFJLENBQUMsWUFBWSxHQUFHLElBQUkseUJBQWdCLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDakQsQ0FBQztRQUNELElBQUksT0FBTyxDQUFDLGlCQUFpQixFQUFFLENBQUM7WUFDOUIsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksaUNBQW9CLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDekQsQ0FBQztRQUNELElBQUksT0FBTyxDQUFDLFlBQVksRUFBRSxDQUFDO1lBQ3pCLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSx1QkFBZSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQy9DLENBQUM7SUFDSCxDQUFDO0lBRWUsYUFBYTtRQUMzQixJQUFBLHNCQUFjLEVBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ2hDLEtBQUssQ0FBQyxhQUFhLEVBQUUsQ0FBQztJQUN4QixDQUFDO0lBRWUsY0FBYztRQUM1QixLQUFLLENBQUMsY0FBYyxFQUFFLENBQUM7SUFDekIsQ0FBQzs7QUE1SEgsa0NBNkhDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY2RrIH0gZnJvbSAncHJvamVuJztcbmltcG9ydCB7IENvbW1pdExpbnRDb25maWdCYXNlIH0gZnJvbSAnLi4vYmFzZS9jb21taXRsaW50JztcbmltcG9ydCB7IERldkNvbnRhaW5lckNvbmZpZ0Jhc2UgfSBmcm9tICcuLi9iYXNlL2RldmNvbnRhaW5lcic7XG5pbXBvcnQgeyBFc0xpbnRDb25maWdCYXNlIH0gZnJvbSAnLi4vYmFzZS9lc2xpbnQnO1xuaW1wb3J0IHsgR2l0SHViQ29uZmlnQmFzZSB9IGZyb20gJy4uL2Jhc2UvZ2l0aHViJztcbmltcG9ydCB7IEh1c2t5Q29uZmlnQmFzZSB9IGZyb20gJy4uL2Jhc2UvaHVza3knO1xuaW1wb3J0IHsgR2l0Q29uZmlnQmFzZSB9IGZyb20gJy4uL2Jhc2UvZ2l0JztcbmltcG9ydCB7IEplc3RDb25maWdCYXNlIH0gZnJvbSAnLi4vYmFzZS9qZXN0JztcbmltcG9ydCB7IEJhc2VPcHRpb25zIH0gZnJvbSAnLi4vYmFzZS9vcHRpb25zJztcbmltcG9ydCB7IFByZXR0aWVyQ29uZmlnQmFzZSB9IGZyb20gJy4uL2Jhc2UvcHJldHRpZXInO1xuaW1wb3J0IHsgVnNDb2RlQ29uZmlnQmFzZSB9IGZyb20gJy4uL2Jhc2UvdnNjb2RlJztcbmltcG9ydCB7IE5wbUNvbmZpZ0pzaWkgfSBmcm9tICcuL25wbSc7XG5pbXBvcnQgeyBUeXBlU2NyaXB0Q29uZmlnSnNpaSB9IGZyb20gJy4vdHlwZXNjcmlwdCc7XG5pbXBvcnQgeyByZWdpc3RlckNvbmZpZyB9IGZyb20gJy4uL3V0aWxzJztcbmltcG9ydCB7IElQcm9qZWN0S2luZCwgUHJvamVjdEtpbmQgfSBmcm9tICcuLi90eXBlcy90eXBlcyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSnNpaVByb2plY3RPcHRpb25zIGV4dGVuZHMgY2RrLkpzaWlQcm9qZWN0T3B0aW9ucyB7XG4gIC8qKlxuICAgKiBXaGV0aGVyIHRvIGVuYWJsZSB0aGUgY29tbWl0bGludCBjb25maWd1cmF0aW9uIGZvciB0aGUgcHJvamVjdC5cbiAgICogSWYgc2V0IHRvIGB0cnVlYCwgY29tbWl0bGludCBjb25maWd1cmF0aW9uIHdpbGwgYmUgZW5hYmxlZC5cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIHJlYWRvbmx5IGNvbW1pdGxpbnRFbmFibGVkPzogYm9vbGVhbjtcblxuICAvKipcbiAgICogV2hldGhlciB0byBlbmFibGUgdGhlIGRldiBjb250YWluZXIgY29uZmlndXJhdGlvbiBmb3IgdGhlIHByb2plY3QuXG4gICAqIElmIHNldCB0byBgdHJ1ZWAsIGRldiBjb250YWluZXIgY29uZmlndXJhdGlvbiB3aWxsIGJlIGVuYWJsZWQuXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICByZWFkb25seSBkZXZDb250YWluZXJFbmFibGVkPzogYm9vbGVhbjtcblxuICAvKipcbiAgICogV2hldGhlciB0byBlbmFibGUgdGhlIEVTTGludCBjb25maWd1cmF0aW9uIGZvciB0aGUgcHJvamVjdC5cbiAgICogSWYgc2V0IHRvIGB0cnVlYCwgRVNMaW50IGNvbmZpZ3VyYXRpb24gd2lsbCBiZSBlbmFibGVkLlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgcmVhZG9ubHkgZXNsaW50RW5hYmxlZD86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdG8gZW5hYmxlIHRoZSBHaXRIdWIgY29uZmlndXJhdGlvbiBmb3IgdGhlIHByb2plY3QuXG4gICAqIElmIHNldCB0byBgdHJ1ZWAsIEdpdEh1Yi1yZWxhdGVkIHNldHRpbmdzIHdpbGwgYmUgY29uZmlndXJlZCAoZS5nLiwgaXNzdWUgdGVtcGxhdGVzLCBQUiB0ZW1wbGF0ZXMpLlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgcmVhZG9ubHkgZ2l0aHViRW5hYmxlZD86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdG8gZW5hYmxlIHRoZSBIdXNreSBjb25maWd1cmF0aW9uIGZvciB0aGUgcHJvamVjdC5cbiAgICogSWYgc2V0IHRvIGB0cnVlYCwgSHVza3kgaG9va3Mgd2lsbCBiZSBlbmFibGVkIHRvIGVuZm9yY2UgY29kZSBxdWFsaXR5IGNoZWNrcy5cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIHJlYWRvbmx5IGh1c2t5RW5hYmxlZD86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdG8gZW5hYmxlIHRoZSBKZXN0IGNvbmZpZ3VyYXRpb24gZm9yIHRoZSBwcm9qZWN0LlxuICAgKiBJZiBzZXQgdG8gYHRydWVgLCBKZXN0IHRlc3RpbmcgZnJhbWV3b3JrIHdpbGwgYmUgY29uZmlndXJlZCBmb3IgdGhlIHByb2plY3QuXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICByZWFkb25seSBqZXN0RW5hYmxlZD86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdG8gZW5hYmxlIHRoZSBQcmV0dGllciBjb25maWd1cmF0aW9uIGZvciB0aGUgcHJvamVjdC5cbiAgICogSWYgc2V0IHRvIGB0cnVlYCwgUHJldHRpZXIgY29kZSBmb3JtYXR0aW5nIGNvbmZpZ3VyYXRpb24gd2lsbCBiZSBlbmFibGVkLlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgcmVhZG9ubHkgcHJldHRpZXJFbmFibGVkPzogYm9vbGVhbjtcblxuICAvKipcbiAgICogV2hldGhlciB0byBlbmFibGUgdGhlIFZTIENvZGUgY29uZmlndXJhdGlvbiBmb3IgdGhlIHByb2plY3QuXG4gICAqIElmIHNldCB0byBgdHJ1ZWAsIFZTIENvZGUgc2V0dGluZ3Mgd2lsbCBiZSBhcHBsaWVkIGZvciB0aGUgcHJvamVjdC5cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIHJlYWRvbmx5IHZzY29kZUVuYWJsZWQ/OiBib29sZWFuO1xufVxuXG4vKipcbiAqIEJhc2UgY2xhc3MgZm9yIG1hbmFnaW5nIHByb2plY3QgSnNpaSBjb25maWd1cmF0aW9uLlxuICovXG5leHBvcnQgY2xhc3MgSnNpaVByb2plY3QgZXh0ZW5kcyBjZGsuSnNpaVByb2plY3QgaW1wbGVtZW50cyBJUHJvamVjdEtpbmQge1xuICAvKipcbiAgICogQ29uZmlndXJhdGlvbiBmb3IgY29tbWl0bGludCBzZXR0aW5ncyBpbiB0aGUgcHJvamVjdC5cbiAgICogVGhpcyBwcm9wZXJ0eSBpcyBpbml0aWFsaXplZCBpZiBgY29tbWl0bGludEVuYWJsZWRgIG9wdGlvbiBpcyBwcm92aWRlZCBkdXJpbmcgcHJvamVjdCBjcmVhdGlvbi5cbiAgICovXG4gIHB1YmxpYyByZWFkb25seSBjb21taXRsaW50Q29uZmlnPzogQ29tbWl0TGludENvbmZpZ0Jhc2U7XG5cbiAgLyoqXG4gICAqIENvbmZpZ3VyYXRpb24gZm9yIGRldmVsb3BtZW50IGNvbnRhaW5lciBzZXR0aW5ncyBpbiB0aGUgcHJvamVjdC5cbiAgICogVGhpcyBwcm9wZXJ0eSBpcyBpbml0aWFsaXplZCBpZiBgZGV2Q29udGFpbmVyRW5hYmxlZGAgb3B0aW9uIGlzIHByb3ZpZGVkIGR1cmluZyBwcm9qZWN0IGNyZWF0aW9uLlxuICAgKi9cbiAgcHVibGljIHJlYWRvbmx5IGRldkNvbnRhaW5lckNvbmZpZz86IERldkNvbnRhaW5lckNvbmZpZ0Jhc2U7XG5cbiAgLyoqXG4gICAqIENvbmZpZ3VyYXRpb24gZm9yIEVTTGludCBzZXR0aW5ncyBpbiB0aGUgcHJvamVjdC5cbiAgICogVGhpcyBwcm9wZXJ0eSBpcyBpbml0aWFsaXplZCBpZiBgZXNsaW50RW5hYmxlZGAgb3B0aW9uIGlzIHByb3ZpZGVkIGR1cmluZyBwcm9qZWN0IGNyZWF0aW9uLlxuICAgKi9cbiAgcHVibGljIHJlYWRvbmx5IGVzbGludENvbmZpZz86IEVzTGludENvbmZpZ0Jhc2U7XG5cbiAgLyoqXG4gICAqIENvbmZpZ3VyYXRpb24gZm9yIEdpdEh1YiBzZXR0aW5ncyBpbiB0aGUgcHJvamVjdC5cbiAgICogVGhpcyBwcm9wZXJ0eSBpcyBpbml0aWFsaXplZCBpZiBgZ2l0aHViRW5hYmxlZGAgb3B0aW9uIGlzIHByb3ZpZGVkIGR1cmluZyBwcm9qZWN0IGNyZWF0aW9uLlxuICAgKi9cbiAgcHVibGljIHJlYWRvbmx5IGdpdGh1YkNvbmZpZz86IEdpdEh1YkNvbmZpZ0Jhc2U7XG5cbiAgLyoqXG4gICAqIENvbmZpZ3VyYXRpb24gZm9yIEh1c2t5IHNldHRpbmdzIGluIHRoZSBwcm9qZWN0LlxuICAgKiBUaGlzIHByb3BlcnR5IGlzIGluaXRpYWxpemVkIGlmIGBodXNreUVuYWJsZWRgIG9wdGlvbiBpcyBwcm92aWRlZCBkdXJpbmcgcHJvamVjdCBjcmVhdGlvbi5cbiAgICovXG4gIHB1YmxpYyByZWFkb25seSBodXNreUNvbmZpZz86IEh1c2t5Q29uZmlnQmFzZTtcblxuICAvKipcbiAgICogQ29uZmlndXJhdGlvbiBmb3IgSmVzdCBzZXR0aW5ncyBpbiB0aGUgcHJvamVjdC5cbiAgICogVGhpcyBwcm9wZXJ0eSBpcyBpbml0aWFsaXplZCBpZiBgamVzdEVuYWJsZWRgIG9wdGlvbiBpcyBwcm92aWRlZCBkdXJpbmcgcHJvamVjdCBjcmVhdGlvbi5cbiAgICovXG4gIHB1YmxpYyByZWFkb25seSBqZXN0Q29uZmlnPzogSmVzdENvbmZpZ0Jhc2U7XG5cbiAgLyoqXG4gICAqIENvbmZpZ3VyYXRpb24gZm9yIE5QTSBzZXR0aW5ncyBpbiB0aGUgcHJvamVjdC5cbiAgICogVGhpcyBwcm9wZXJ0eSBpcyBhbHdheXMgaW5pdGlhbGl6ZWQgYXMgYG5wbUNvbmZpZ2Agd2hlbiB0aGUgcHJvamVjdCBpcyBjcmVhdGVkLlxuICAgKi9cbiAgcHVibGljIHJlYWRvbmx5IG5wbUNvbmZpZz86IE5wbUNvbmZpZ0pzaWk7XG5cbiAgLyoqXG4gICAqIENvbmZpZ3VyYXRpb24gZm9yIFByZXR0aWVyIHNldHRpbmdzIGluIHRoZSBwcm9qZWN0LlxuICAgKiBUaGlzIHByb3BlcnR5IGlzIGluaXRpYWxpemVkIGlmIGBwcmV0dGllckVuYWJsZWRgIG9wdGlvbiBpcyBwcm92aWRlZCBkdXJpbmcgcHJvamVjdCBjcmVhdGlvbi5cbiAgICovXG4gIHB1YmxpYyByZWFkb25seSBwcmV0dGllckNvbmZpZz86IFByZXR0aWVyQ29uZmlnQmFzZTtcblxuICAvKipcbiAgICogQ29uZmlndXJhdGlvbiBmb3IgVlMgQ29kZSBzZXR0aW5ncyBpbiB0aGUgcHJvamVjdC5cbiAgICogVGhpcyBwcm9wZXJ0eSBpcyBpbml0aWFsaXplZCBpZiBgdnNjb2RlRW5hYmxlZGAgb3B0aW9uIGlzIHByb3ZpZGVkIGR1cmluZyBwcm9qZWN0IGNyZWF0aW9uLlxuICAgKi9cbiAgcHVibGljIHJlYWRvbmx5IHZzY29kZUNvbmZpZz86IFZzQ29kZUNvbmZpZ0Jhc2U7XG5cbiAgLyoqXG4gICAqIFRoaXMgZmxhZyBhbGlnbnMgd2l0aCBQcm9qZW4gc3RydWN0dXJlIHVzaW5nIGZsYWdzIGxpa2UgYGVzbGludGAsIGBkZXZDb250YWluZXJgLCAuLi4uXG4gICAqIGZvciBkZWZpbmluZyBpZiBjb25maWd1cmF0aW9uIGZ1bmN0aW9uYWxpdHkgaXMgZW5hYmxlZCBvciBub3QuIFdpbGwgYWxpZ24gd2l0aCBgdHlwZXNjcmlwdEVuYWJsZWRgXG4gICAqIElmIHNldCB0byBgdHJ1ZWAsIFR5cGVTY3JpcHQtc3BlY2lmaWMgc2V0dGluZ3Mgd2lsbCBiZSBjb25maWd1cmVkIGZvciB0aGUgcHJvamVjdC5cbiAgICogSWYgc2V0IHRvIGBmYWxzZWAgVHlwZVNjcmlwdCB3aWxsIGJlIGNvbXBsZXRlbHkgcmVtb3ZlZCBmcm9tIHRoZSBwcm9qZWN0IGFzXG4gICAqIFByb2plbiBwcm9qZWN0cyB1c2VkIGluIHRoaXMgY29udGV4dCBhcmUgYWx3YXlzIHJlbHlpbmcgb24gVHlwZVNjcmlwdC5cbiAgICovXG4gIHB1YmxpYyB0eXBlc2NyaXB0PzogYm9vbGVhbjtcblxuICBwdWJsaWMga2luZDogUHJvamVjdEtpbmQ7XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIHRoZSBwcm9qZWN0LlxuICAgKiBAcGFyYW0gb3B0aW9ucyBBZGRpdGlvbmFsIHByb2plY3Qgb3B0aW9ucy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnM6IEpzaWlQcm9qZWN0T3B0aW9ucykge1xuICAgIHN1cGVyKHtcbiAgICAgIC4uLkJhc2VPcHRpb25zLnNoYXJlZE9wdGlvbnMob3B0aW9ucyksXG4gICAgICAvLyB0c2NvbmZpZy5kZXYuanNvbiBuZWVkcyB0byBiZSBlbmFibGVkIGZvciBKc2lpIFByb2plY3RzXG4gICAgICBwcm9qZW5yY1RzOiB0cnVlLFxuICAgICAgZGlzYWJsZVRzY29uZmlnRGV2OiBvcHRpb25zLmRpc2FibGVUc2NvbmZpZ0RldiA/PyBmYWxzZSxcbiAgICAgIGRpc2FibGVUc2NvbmZpZzogb3B0aW9ucy5kaXNhYmxlVHNjb25maWcgPz8gdHJ1ZSxcbiAgICAgIHRzY29uZmlnOiB7XG4gICAgICAgIGNvbXBpbGVyT3B0aW9uczoge1xuICAgICAgICAgIGFsbG93SW1wb3J0aW5nVHNFeHRlbnNpb25zOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIHRoaXMudHlwZXNjcmlwdCA9IHRydWU7XG4gICAgdGhpcy5raW5kID0gJ2Jhc2UnO1xuXG4gICAgbmV3IEdpdENvbmZpZ0Jhc2UodGhpcyk7XG4gICAgbmV3IFR5cGVTY3JpcHRDb25maWdKc2lpKHRoaXMpO1xuICAgIHRoaXMubnBtQ29uZmlnID0gbmV3IE5wbUNvbmZpZ0pzaWkodGhpcyk7XG5cbiAgICBpZiAob3B0aW9ucy5wcmV0dGllckVuYWJsZWQpIHtcbiAgICAgIHRoaXMucHJldHRpZXJDb25maWcgPSBuZXcgUHJldHRpZXJDb25maWdCYXNlKHRoaXMpO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5kZXZDb250YWluZXJFbmFibGVkKSB7XG4gICAgICB0aGlzLmRldkNvbnRhaW5lckNvbmZpZyA9IG5ldyBEZXZDb250YWluZXJDb25maWdCYXNlKHRoaXMpO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5lc2xpbnRFbmFibGVkKSB7XG4gICAgICB0aGlzLmVzbGludENvbmZpZyA9IG5ldyBFc0xpbnRDb25maWdCYXNlKHRoaXMpO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5qZXN0RW5hYmxlZCkge1xuICAgICAgdGhpcy5qZXN0Q29uZmlnID0gbmV3IEplc3RDb25maWdCYXNlKHRoaXMpO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy52c2NvZGVFbmFibGVkKSB7XG4gICAgICB0aGlzLnZzY29kZUNvbmZpZyA9IG5ldyBWc0NvZGVDb25maWdCYXNlKHRoaXMpO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5naXRodWJFbmFibGVkKSB7XG4gICAgICB0aGlzLmdpdGh1YkNvbmZpZyA9IG5ldyBHaXRIdWJDb25maWdCYXNlKHRoaXMpO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5jb21taXRsaW50RW5hYmxlZCkge1xuICAgICAgdGhpcy5jb21taXRsaW50Q29uZmlnID0gbmV3IENvbW1pdExpbnRDb25maWdCYXNlKHRoaXMpO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5odXNreUVuYWJsZWQpIHtcbiAgICAgIHRoaXMuaHVza3lDb25maWcgPSBuZXcgSHVza3lDb25maWdCYXNlKHRoaXMpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBvdmVycmlkZSBwcmVTeW50aGVzaXplKCk6IHZvaWQge1xuICAgIHJlZ2lzdGVyQ29uZmlnKHRoaXMuY29tcG9uZW50cyk7XG4gICAgc3VwZXIucHJlU3ludGhlc2l6ZSgpO1xuICB9XG5cbiAgcHVibGljIG92ZXJyaWRlIHBvc3RTeW50aGVzaXplKCk6IHZvaWQge1xuICAgIHN1cGVyLnBvc3RTeW50aGVzaXplKCk7XG4gIH1cbn1cbiJdfQ==