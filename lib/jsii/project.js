"use strict";
var _a;
Object.defineProperty(exports, "__esModule", { value: true });
exports.JsiiProject = void 0;
const JSII_RTTI_SYMBOL_1 = Symbol.for("jsii.rtti");
const projen_1 = require("projen");
const commitlint_1 = require("../base/config/commitlint");
const devcontainer_1 = require("../base/config/devcontainer");
const eslint_1 = require("../base/config/eslint");
const github_1 = require("../base/config/github");
const husky_1 = require("../base/config/husky");
const git_1 = require("../base/config/git");
const jest_1 = require("../base/config/jest");
const options_1 = require("../base/config/options");
const prettier_1 = require("../base/config/prettier");
const vscode_1 = require("../base/config/vscode");
const npm_1 = require("./config/npm");
const typescript_1 = require("./config/typescript");
const utils_1 = require("../util/utils");
/**
 * Base class for managing project Jsii configuration.
 */
class JsiiProject extends projen_1.cdk.JsiiProject {
    /**
     * Initializes the project.
     * @param options Additional project options.
     */
    constructor(options) {
        super({
            ...options_1.BaseOptions.sharedOptions(options),
            // tsconfig.dev.json needs to be enabled for Jsii Projects
            projenrcTs: true,
            disableTsconfigDev: options.disableTsconfigDev ?? false,
            disableTsconfig: options.disableTsconfig ?? true,
            tsconfig: {
                compilerOptions: {
                    allowImportingTsExtensions: true,
                },
            },
        });
        this.typescript = true;
        this.kind = 'base';
        this.gitConfig = new git_1.GitConfigBase(this);
        this.typescriptConfig = new typescript_1.TypeScriptConfigJsii(this);
        this.npmConfig = new npm_1.NpmConfigJsii(this);
        if (options.prettierEnabled) {
            this.prettierConfig = new prettier_1.PrettierConfigBase(this);
        }
        if (options.devContainerEnabled) {
            this.devContainerConfig = new devcontainer_1.DevContainerConfigBase(this);
        }
        if (options.eslintEnabled) {
            this.eslintConfig = new eslint_1.EsLintConfigBase(this);
        }
        if (options.jestEnabled) {
            this.jestConfig = new jest_1.JestConfigBase(this);
        }
        if (options.vscodeEnabled) {
            this.vscodeConfig = new vscode_1.VsCodeConfigBase(this);
        }
        if (options.githubEnabled) {
            this.githubConfig = new github_1.GitHubConfigBase(this);
        }
        if (options.commitlintEnabled) {
            this.commitlintConfig = new commitlint_1.CommitLintConfigBase(this);
        }
        if (options.huskyEnabled) {
            this.huskyConfig = new husky_1.HuskyConfigBase(this);
        }
    }
    preSynthesize() {
        utils_1.util.registerConfig(this.components);
        super.preSynthesize();
    }
    postSynthesize() {
        super.postSynthesize();
    }
}
exports.JsiiProject = JsiiProject;
_a = JSII_RTTI_SYMBOL_1;
JsiiProject[_a] = { fqn: "@dxfrontier/projen-template-projects.JsiiProject", version: "0.0.0" };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvamVjdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9qc2lpL3Byb2plY3QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxtQ0FBNkI7QUFDN0IsMERBQWlFO0FBQ2pFLDhEQUFxRTtBQUNyRSxrREFBeUQ7QUFDekQsa0RBQXlEO0FBQ3pELGdEQUF1RDtBQUN2RCw0Q0FBbUQ7QUFDbkQsOENBQXFEO0FBQ3JELG9EQUFxRDtBQUNyRCxzREFBNkQ7QUFDN0Qsa0RBQXlEO0FBQ3pELHNDQUE2QztBQUM3QyxvREFBMkQ7QUFDM0QseUNBQXFDO0FBOERyQzs7R0FFRztBQUNILE1BQWEsV0FBWSxTQUFRLFlBQUcsQ0FBQyxXQUFXO0lBOEU5Qzs7O09BR0c7SUFDSCxZQUFZLE9BQTJCO1FBQ3JDLEtBQUssQ0FBQztZQUNKLEdBQUcscUJBQVcsQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDO1lBQ3JDLDBEQUEwRDtZQUMxRCxVQUFVLEVBQUUsSUFBSTtZQUNoQixrQkFBa0IsRUFBRSxPQUFPLENBQUMsa0JBQWtCLElBQUksS0FBSztZQUN2RCxlQUFlLEVBQUUsT0FBTyxDQUFDLGVBQWUsSUFBSSxJQUFJO1lBQ2hELFFBQVEsRUFBRTtnQkFDUixlQUFlLEVBQUU7b0JBQ2YsMEJBQTBCLEVBQUUsSUFBSTtpQkFDakM7YUFDRjtTQUNGLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxJQUFJLEdBQUcsTUFBTSxDQUFDO1FBRW5CLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxtQkFBYSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3pDLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLGlDQUFvQixDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3ZELElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxtQkFBYSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBRXpDLElBQUksT0FBTyxDQUFDLGVBQWUsRUFBRSxDQUFDO1lBQzVCLElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSw2QkFBa0IsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNyRCxDQUFDO1FBQ0QsSUFBSSxPQUFPLENBQUMsbUJBQW1CLEVBQUUsQ0FBQztZQUNoQyxJQUFJLENBQUMsa0JBQWtCLEdBQUcsSUFBSSxxQ0FBc0IsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUM3RCxDQUFDO1FBQ0QsSUFBSSxPQUFPLENBQUMsYUFBYSxFQUFFLENBQUM7WUFDMUIsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLHlCQUFnQixDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ2pELENBQUM7UUFDRCxJQUFJLE9BQU8sQ0FBQyxXQUFXLEVBQUUsQ0FBQztZQUN4QixJQUFJLENBQUMsVUFBVSxHQUFHLElBQUkscUJBQWMsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUM3QyxDQUFDO1FBQ0QsSUFBSSxPQUFPLENBQUMsYUFBYSxFQUFFLENBQUM7WUFDMUIsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLHlCQUFnQixDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ2pELENBQUM7UUFDRCxJQUFJLE9BQU8sQ0FBQyxhQUFhLEVBQUUsQ0FBQztZQUMxQixJQUFJLENBQUMsWUFBWSxHQUFHLElBQUkseUJBQWdCLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDakQsQ0FBQztRQUNELElBQUksT0FBTyxDQUFDLGlCQUFpQixFQUFFLENBQUM7WUFDOUIsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksaUNBQW9CLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDekQsQ0FBQztRQUNELElBQUksT0FBTyxDQUFDLFlBQVksRUFBRSxDQUFDO1lBQ3pCLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSx1QkFBZSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQy9DLENBQUM7SUFDSCxDQUFDO0lBRWUsYUFBYTtRQUMzQixZQUFJLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUNyQyxLQUFLLENBQUMsYUFBYSxFQUFFLENBQUM7SUFDeEIsQ0FBQztJQUVlLGNBQWM7UUFDNUIsS0FBSyxDQUFDLGNBQWMsRUFBRSxDQUFDO0lBQ3pCLENBQUM7O0FBeElILGtDQXlJQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNkayB9IGZyb20gJ3Byb2plbic7XG5pbXBvcnQgeyBDb21taXRMaW50Q29uZmlnQmFzZSB9IGZyb20gJy4uL2Jhc2UvY29uZmlnL2NvbW1pdGxpbnQnO1xuaW1wb3J0IHsgRGV2Q29udGFpbmVyQ29uZmlnQmFzZSB9IGZyb20gJy4uL2Jhc2UvY29uZmlnL2RldmNvbnRhaW5lcic7XG5pbXBvcnQgeyBFc0xpbnRDb25maWdCYXNlIH0gZnJvbSAnLi4vYmFzZS9jb25maWcvZXNsaW50JztcbmltcG9ydCB7IEdpdEh1YkNvbmZpZ0Jhc2UgfSBmcm9tICcuLi9iYXNlL2NvbmZpZy9naXRodWInO1xuaW1wb3J0IHsgSHVza3lDb25maWdCYXNlIH0gZnJvbSAnLi4vYmFzZS9jb25maWcvaHVza3knO1xuaW1wb3J0IHsgR2l0Q29uZmlnQmFzZSB9IGZyb20gJy4uL2Jhc2UvY29uZmlnL2dpdCc7XG5pbXBvcnQgeyBKZXN0Q29uZmlnQmFzZSB9IGZyb20gJy4uL2Jhc2UvY29uZmlnL2plc3QnO1xuaW1wb3J0IHsgQmFzZU9wdGlvbnMgfSBmcm9tICcuLi9iYXNlL2NvbmZpZy9vcHRpb25zJztcbmltcG9ydCB7IFByZXR0aWVyQ29uZmlnQmFzZSB9IGZyb20gJy4uL2Jhc2UvY29uZmlnL3ByZXR0aWVyJztcbmltcG9ydCB7IFZzQ29kZUNvbmZpZ0Jhc2UgfSBmcm9tICcuLi9iYXNlL2NvbmZpZy92c2NvZGUnO1xuaW1wb3J0IHsgTnBtQ29uZmlnSnNpaSB9IGZyb20gJy4vY29uZmlnL25wbSc7XG5pbXBvcnQgeyBUeXBlU2NyaXB0Q29uZmlnSnNpaSB9IGZyb20gJy4vY29uZmlnL3R5cGVzY3JpcHQnO1xuaW1wb3J0IHsgdXRpbCB9IGZyb20gJy4uL3V0aWwvdXRpbHMnO1xuaW1wb3J0IHsgSVByb2plY3RLaW5kLCBQcm9qZWN0S2luZCB9IGZyb20gJy4uL3V0aWwvdHlwZXMvcHJvamVjdCc7XG5pbXBvcnQgeyBUeXBlU2NyaXB0Q29uZmlnQmFzZSB9IGZyb20gJy4uL2Jhc2UvY29uZmlnL3R5cGVzY3JpcHQnO1xuXG5leHBvcnQgaW50ZXJmYWNlIEpzaWlQcm9qZWN0T3B0aW9ucyBleHRlbmRzIGNkay5Kc2lpUHJvamVjdE9wdGlvbnMge1xuICAvKipcbiAgICogV2hldGhlciB0byBlbmFibGUgdGhlIGNvbW1pdGxpbnQgY29uZmlndXJhdGlvbiBmb3IgdGhlIHByb2plY3QuXG4gICAqIElmIHNldCB0byBgdHJ1ZWAsIGNvbW1pdGxpbnQgY29uZmlndXJhdGlvbiB3aWxsIGJlIGVuYWJsZWQuXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICByZWFkb25seSBjb21taXRsaW50RW5hYmxlZD86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdG8gZW5hYmxlIHRoZSBkZXYgY29udGFpbmVyIGNvbmZpZ3VyYXRpb24gZm9yIHRoZSBwcm9qZWN0LlxuICAgKiBJZiBzZXQgdG8gYHRydWVgLCBkZXYgY29udGFpbmVyIGNvbmZpZ3VyYXRpb24gd2lsbCBiZSBlbmFibGVkLlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgcmVhZG9ubHkgZGV2Q29udGFpbmVyRW5hYmxlZD86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdG8gZW5hYmxlIHRoZSBFU0xpbnQgY29uZmlndXJhdGlvbiBmb3IgdGhlIHByb2plY3QuXG4gICAqIElmIHNldCB0byBgdHJ1ZWAsIEVTTGludCBjb25maWd1cmF0aW9uIHdpbGwgYmUgZW5hYmxlZC5cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIHJlYWRvbmx5IGVzbGludEVuYWJsZWQ/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRvIGVuYWJsZSB0aGUgR2l0SHViIGNvbmZpZ3VyYXRpb24gZm9yIHRoZSBwcm9qZWN0LlxuICAgKiBJZiBzZXQgdG8gYHRydWVgLCBHaXRIdWItcmVsYXRlZCBzZXR0aW5ncyB3aWxsIGJlIGNvbmZpZ3VyZWQgKGUuZy4sIGlzc3VlIHRlbXBsYXRlcywgUFIgdGVtcGxhdGVzKS5cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIHJlYWRvbmx5IGdpdGh1YkVuYWJsZWQ/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRvIGVuYWJsZSB0aGUgSHVza3kgY29uZmlndXJhdGlvbiBmb3IgdGhlIHByb2plY3QuXG4gICAqIElmIHNldCB0byBgdHJ1ZWAsIEh1c2t5IGhvb2tzIHdpbGwgYmUgZW5hYmxlZCB0byBlbmZvcmNlIGNvZGUgcXVhbGl0eSBjaGVja3MuXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICByZWFkb25seSBodXNreUVuYWJsZWQ/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRvIGVuYWJsZSB0aGUgSmVzdCBjb25maWd1cmF0aW9uIGZvciB0aGUgcHJvamVjdC5cbiAgICogSWYgc2V0IHRvIGB0cnVlYCwgSmVzdCB0ZXN0aW5nIGZyYW1ld29yayB3aWxsIGJlIGNvbmZpZ3VyZWQgZm9yIHRoZSBwcm9qZWN0LlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgcmVhZG9ubHkgamVzdEVuYWJsZWQ/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRvIGVuYWJsZSB0aGUgUHJldHRpZXIgY29uZmlndXJhdGlvbiBmb3IgdGhlIHByb2plY3QuXG4gICAqIElmIHNldCB0byBgdHJ1ZWAsIFByZXR0aWVyIGNvZGUgZm9ybWF0dGluZyBjb25maWd1cmF0aW9uIHdpbGwgYmUgZW5hYmxlZC5cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIHJlYWRvbmx5IHByZXR0aWVyRW5hYmxlZD86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdG8gZW5hYmxlIHRoZSBWUyBDb2RlIGNvbmZpZ3VyYXRpb24gZm9yIHRoZSBwcm9qZWN0LlxuICAgKiBJZiBzZXQgdG8gYHRydWVgLCBWUyBDb2RlIHNldHRpbmdzIHdpbGwgYmUgYXBwbGllZCBmb3IgdGhlIHByb2plY3QuXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICByZWFkb25seSB2c2NvZGVFbmFibGVkPzogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBCYXNlIGNsYXNzIGZvciBtYW5hZ2luZyBwcm9qZWN0IEpzaWkgY29uZmlndXJhdGlvbi5cbiAqL1xuZXhwb3J0IGNsYXNzIEpzaWlQcm9qZWN0IGV4dGVuZHMgY2RrLkpzaWlQcm9qZWN0IGltcGxlbWVudHMgSVByb2plY3RLaW5kIHtcbiAgLyoqXG4gICAqIENvbmZpZ3VyYXRpb24gZm9yIGNvbW1pdGxpbnQgc2V0dGluZ3MgaW4gdGhlIHByb2plY3QuXG4gICAqIFRoaXMgcHJvcGVydHkgaXMgaW5pdGlhbGl6ZWQgaWYgYGNvbW1pdGxpbnRFbmFibGVkYCBvcHRpb24gaXMgcHJvdmlkZWQgZHVyaW5nIHByb2plY3QgY3JlYXRpb24uXG4gICAqL1xuICBwdWJsaWMgcmVhZG9ubHkgY29tbWl0bGludENvbmZpZz86IENvbW1pdExpbnRDb25maWdCYXNlO1xuXG4gIC8qKlxuICAgKiBDb25maWd1cmF0aW9uIGZvciBkZXZlbG9wbWVudCBjb250YWluZXIgc2V0dGluZ3MgaW4gdGhlIHByb2plY3QuXG4gICAqIFRoaXMgcHJvcGVydHkgaXMgaW5pdGlhbGl6ZWQgaWYgYGRldkNvbnRhaW5lckVuYWJsZWRgIG9wdGlvbiBpcyBwcm92aWRlZCBkdXJpbmcgcHJvamVjdCBjcmVhdGlvbi5cbiAgICovXG4gIHB1YmxpYyByZWFkb25seSBkZXZDb250YWluZXJDb25maWc/OiBEZXZDb250YWluZXJDb25maWdCYXNlO1xuXG4gIC8qKlxuICAgKiBDb25maWd1cmF0aW9uIGZvciBFU0xpbnQgc2V0dGluZ3MgaW4gdGhlIHByb2plY3QuXG4gICAqIFRoaXMgcHJvcGVydHkgaXMgaW5pdGlhbGl6ZWQgaWYgYGVzbGludEVuYWJsZWRgIG9wdGlvbiBpcyBwcm92aWRlZCBkdXJpbmcgcHJvamVjdCBjcmVhdGlvbi5cbiAgICovXG4gIHB1YmxpYyByZWFkb25seSBlc2xpbnRDb25maWc/OiBFc0xpbnRDb25maWdCYXNlO1xuXG4gIC8qKlxuICAgKiBDb25maWd1cmF0aW9uIGZvciBHaXQgc2V0dGluZ3MgaW4gdGhlIHByb2plY3QuXG4gICAqIFRoaXMgcHJvcGVydHkgaXMgYWx3YXlzIGluaXRpYWxpemVkIGFzIGBnaXRDb25maWdgIHdoZW4gdGhlIHByb2plY3QgaXMgY3JlYXRlZC5cbiAgICovXG4gIHB1YmxpYyBnaXRDb25maWc/OiBHaXRDb25maWdCYXNlO1xuXG4gIC8qKlxuICAgKiBDb25maWd1cmF0aW9uIGZvciBHaXRIdWIgc2V0dGluZ3MgaW4gdGhlIHByb2plY3QuXG4gICAqIFRoaXMgcHJvcGVydHkgaXMgaW5pdGlhbGl6ZWQgaWYgYGdpdGh1YkVuYWJsZWRgIG9wdGlvbiBpcyBwcm92aWRlZCBkdXJpbmcgcHJvamVjdCBjcmVhdGlvbi5cbiAgICovXG4gIHB1YmxpYyByZWFkb25seSBnaXRodWJDb25maWc/OiBHaXRIdWJDb25maWdCYXNlO1xuXG4gIC8qKlxuICAgKiBDb25maWd1cmF0aW9uIGZvciBIdXNreSBzZXR0aW5ncyBpbiB0aGUgcHJvamVjdC5cbiAgICogVGhpcyBwcm9wZXJ0eSBpcyBpbml0aWFsaXplZCBpZiBgaHVza3lFbmFibGVkYCBvcHRpb24gaXMgcHJvdmlkZWQgZHVyaW5nIHByb2plY3QgY3JlYXRpb24uXG4gICAqL1xuICBwdWJsaWMgcmVhZG9ubHkgaHVza3lDb25maWc/OiBIdXNreUNvbmZpZ0Jhc2U7XG5cbiAgLyoqXG4gICAqIENvbmZpZ3VyYXRpb24gZm9yIEplc3Qgc2V0dGluZ3MgaW4gdGhlIHByb2plY3QuXG4gICAqIFRoaXMgcHJvcGVydHkgaXMgaW5pdGlhbGl6ZWQgaWYgYGplc3RFbmFibGVkYCBvcHRpb24gaXMgcHJvdmlkZWQgZHVyaW5nIHByb2plY3QgY3JlYXRpb24uXG4gICAqL1xuICBwdWJsaWMgcmVhZG9ubHkgamVzdENvbmZpZz86IEplc3RDb25maWdCYXNlO1xuXG4gIC8qKlxuICAgKiBDb25maWd1cmF0aW9uIGZvciBOUE0gc2V0dGluZ3MgaW4gdGhlIHByb2plY3QuXG4gICAqIFRoaXMgcHJvcGVydHkgaXMgYWx3YXlzIGluaXRpYWxpemVkIGFzIGBucG1Db25maWdgIHdoZW4gdGhlIHByb2plY3QgaXMgY3JlYXRlZC5cbiAgICovXG4gIHB1YmxpYyByZWFkb25seSBucG1Db25maWc/OiBOcG1Db25maWdKc2lpO1xuXG4gIC8qKlxuICAgKiBDb25maWd1cmF0aW9uIGZvciBQcmV0dGllciBzZXR0aW5ncyBpbiB0aGUgcHJvamVjdC5cbiAgICogVGhpcyBwcm9wZXJ0eSBpcyBpbml0aWFsaXplZCBpZiBgcHJldHRpZXJFbmFibGVkYCBvcHRpb24gaXMgcHJvdmlkZWQgZHVyaW5nIHByb2plY3QgY3JlYXRpb24uXG4gICAqL1xuICBwdWJsaWMgcmVhZG9ubHkgcHJldHRpZXJDb25maWc/OiBQcmV0dGllckNvbmZpZ0Jhc2U7XG5cbiAgLyoqXG4gICAqIENvbmZpZ3VyYXRpb24gZm9yIFZTIENvZGUgc2V0dGluZ3MgaW4gdGhlIHByb2plY3QuXG4gICAqIFRoaXMgcHJvcGVydHkgaXMgaW5pdGlhbGl6ZWQgaWYgYHZzY29kZUVuYWJsZWRgIG9wdGlvbiBpcyBwcm92aWRlZCBkdXJpbmcgcHJvamVjdCBjcmVhdGlvbi5cbiAgICovXG4gIHB1YmxpYyByZWFkb25seSB2c2NvZGVDb25maWc/OiBWc0NvZGVDb25maWdCYXNlO1xuXG4gIC8qKlxuICAgKiBDb25maWd1cmF0aW9uIGZvciBUeXBlU2NyaXB0IHNldHRpbmdzIGluIHRoZSBwcm9qZWN0LlxuICAgKiBUaGlzIHByb3BlcnR5IGlzIGFsd2F5cyBpbml0aWFsaXplZCBhcyBgdHlwZXNjcmlwdENvbmZpZ2Agd2hlbiB0aGUgcHJvamVjdCBpcyBjcmVhdGVkLlxuICAgKi9cbiAgcHVibGljIHR5cGVzY3JpcHRDb25maWc/OiBUeXBlU2NyaXB0Q29uZmlnQmFzZTtcblxuICAvKipcbiAgICogVGhpcyBmbGFnIGFsaWducyB3aXRoIFByb2plbiBzdHJ1Y3R1cmUgdXNpbmcgZmxhZ3MgbGlrZSBgZXNsaW50YCwgYGRldkNvbnRhaW5lcmAsIC4uLi5cbiAgICogZm9yIGRlZmluaW5nIGlmIGNvbmZpZ3VyYXRpb24gZnVuY3Rpb25hbGl0eSBpcyBlbmFibGVkIG9yIG5vdC4gV2lsbCBhbGlnbiB3aXRoIGB0eXBlc2NyaXB0RW5hYmxlZGBcbiAgICogSWYgc2V0IHRvIGB0cnVlYCwgVHlwZVNjcmlwdC1zcGVjaWZpYyBzZXR0aW5ncyB3aWxsIGJlIGNvbmZpZ3VyZWQgZm9yIHRoZSBwcm9qZWN0LlxuICAgKiBJZiBzZXQgdG8gYGZhbHNlYCBUeXBlU2NyaXB0IHdpbGwgYmUgY29tcGxldGVseSByZW1vdmVkIGZyb20gdGhlIHByb2plY3QgYXNcbiAgICogUHJvamVuIHByb2plY3RzIHVzZWQgaW4gdGhpcyBjb250ZXh0IGFyZSBhbHdheXMgcmVseWluZyBvbiBUeXBlU2NyaXB0LlxuICAgKi9cbiAgcHVibGljIHR5cGVzY3JpcHQ/OiBib29sZWFuO1xuXG4gIHB1YmxpYyBraW5kOiBQcm9qZWN0S2luZDtcblxuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgdGhlIHByb2plY3QuXG4gICAqIEBwYXJhbSBvcHRpb25zIEFkZGl0aW9uYWwgcHJvamVjdCBvcHRpb25zLlxuICAgKi9cbiAgY29uc3RydWN0b3Iob3B0aW9uczogSnNpaVByb2plY3RPcHRpb25zKSB7XG4gICAgc3VwZXIoe1xuICAgICAgLi4uQmFzZU9wdGlvbnMuc2hhcmVkT3B0aW9ucyhvcHRpb25zKSxcbiAgICAgIC8vIHRzY29uZmlnLmRldi5qc29uIG5lZWRzIHRvIGJlIGVuYWJsZWQgZm9yIEpzaWkgUHJvamVjdHNcbiAgICAgIHByb2plbnJjVHM6IHRydWUsXG4gICAgICBkaXNhYmxlVHNjb25maWdEZXY6IG9wdGlvbnMuZGlzYWJsZVRzY29uZmlnRGV2ID8/IGZhbHNlLFxuICAgICAgZGlzYWJsZVRzY29uZmlnOiBvcHRpb25zLmRpc2FibGVUc2NvbmZpZyA/PyB0cnVlLFxuICAgICAgdHNjb25maWc6IHtcbiAgICAgICAgY29tcGlsZXJPcHRpb25zOiB7XG4gICAgICAgICAgYWxsb3dJbXBvcnRpbmdUc0V4dGVuc2lvbnM6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgdGhpcy50eXBlc2NyaXB0ID0gdHJ1ZTtcbiAgICB0aGlzLmtpbmQgPSAnYmFzZSc7XG5cbiAgICB0aGlzLmdpdENvbmZpZyA9IG5ldyBHaXRDb25maWdCYXNlKHRoaXMpO1xuICAgIHRoaXMudHlwZXNjcmlwdENvbmZpZyA9IG5ldyBUeXBlU2NyaXB0Q29uZmlnSnNpaSh0aGlzKTtcbiAgICB0aGlzLm5wbUNvbmZpZyA9IG5ldyBOcG1Db25maWdKc2lpKHRoaXMpO1xuXG4gICAgaWYgKG9wdGlvbnMucHJldHRpZXJFbmFibGVkKSB7XG4gICAgICB0aGlzLnByZXR0aWVyQ29uZmlnID0gbmV3IFByZXR0aWVyQ29uZmlnQmFzZSh0aGlzKTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMuZGV2Q29udGFpbmVyRW5hYmxlZCkge1xuICAgICAgdGhpcy5kZXZDb250YWluZXJDb25maWcgPSBuZXcgRGV2Q29udGFpbmVyQ29uZmlnQmFzZSh0aGlzKTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMuZXNsaW50RW5hYmxlZCkge1xuICAgICAgdGhpcy5lc2xpbnRDb25maWcgPSBuZXcgRXNMaW50Q29uZmlnQmFzZSh0aGlzKTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMuamVzdEVuYWJsZWQpIHtcbiAgICAgIHRoaXMuamVzdENvbmZpZyA9IG5ldyBKZXN0Q29uZmlnQmFzZSh0aGlzKTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMudnNjb2RlRW5hYmxlZCkge1xuICAgICAgdGhpcy52c2NvZGVDb25maWcgPSBuZXcgVnNDb2RlQ29uZmlnQmFzZSh0aGlzKTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMuZ2l0aHViRW5hYmxlZCkge1xuICAgICAgdGhpcy5naXRodWJDb25maWcgPSBuZXcgR2l0SHViQ29uZmlnQmFzZSh0aGlzKTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMuY29tbWl0bGludEVuYWJsZWQpIHtcbiAgICAgIHRoaXMuY29tbWl0bGludENvbmZpZyA9IG5ldyBDb21taXRMaW50Q29uZmlnQmFzZSh0aGlzKTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMuaHVza3lFbmFibGVkKSB7XG4gICAgICB0aGlzLmh1c2t5Q29uZmlnID0gbmV3IEh1c2t5Q29uZmlnQmFzZSh0aGlzKTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgb3ZlcnJpZGUgcHJlU3ludGhlc2l6ZSgpOiB2b2lkIHtcbiAgICB1dGlsLnJlZ2lzdGVyQ29uZmlnKHRoaXMuY29tcG9uZW50cyk7XG4gICAgc3VwZXIucHJlU3ludGhlc2l6ZSgpO1xuICB9XG5cbiAgcHVibGljIG92ZXJyaWRlIHBvc3RTeW50aGVzaXplKCk6IHZvaWQge1xuICAgIHN1cGVyLnBvc3RTeW50aGVzaXplKCk7XG4gIH1cbn1cbiJdfQ==